<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter - æ—…è¡ŒåŒ¯ç‡å°å¹«æ‰‹ï½œå³æ™‚æŸ¥è©¢ã€å¿«é€Ÿè½‰æ›- currency_converter </title>
    
    <!-- å¤šèªè¨€ SEO -->
    <meta name="description" content="Real-time currency converter with 27+ currencies. Free online exchange rate calculator.">
    <meta name="keywords" content="currency converter, exchange rate, money converter, forex calculator">
    
    <!-- å¤šèªè¨€é€£çµ -->
    <link rel="alternate" hreflang="en" href="?lang=en">
    <link rel="alternate" hreflang="zh" href="?lang=zh">
    <link rel="alternate" hreflang="ja" href="?lang=ja">
    <link rel="alternate" hreflang="ko" href="?lang=ko">
    <link rel="alternate" hreflang="es" href="?lang=es">
    <link rel="alternate" hreflang="fr" href="?lang=fr">
    
    <!-- Open Graph æ¨™ç±¤ -->
    <meta property="og:title" content="Currency Converter - Real-time Exchange Rates">
    <meta property="og:description" content="Free online currency converter with real-time exchange rates for 27+ currencies. Convert USD, EUR, JPY, CNY, KRW, TWD and more.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-domain.com">
    <meta property="og:image" content="https://your-domain.com/currency-converter-preview.jpg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Currency Converter - Real-time Exchange Rates">
    <meta name="twitter:description" content="Free online currency converter with real-time exchange rates for 27+ currencies.">
    
    <!-- çµæ§‹åŒ–æ•¸æ“š -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Currency Converter",
        "description": "Real-time currency converter with 27+ currencies",
        "url": "https://your-domain.com",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Real-time exchange rates",
            "27+ currencies supported",
            "Mobile responsive",
            "Free to use"
        ]
    }
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
     crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* ç²’å­å‹•ç•«èƒŒæ™¯ */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.3;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.8;
            }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
            position: relative;
            z-index: 2;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 300;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .api-status {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            position: relative;
            z-index: 1;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff6b6b;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .status-indicator.online {
            background: #51cf66;
            box-shadow: 0 0 10px rgba(81, 207, 102, 0.5);
        }

        .status-indicator.loading {
            background: #ffd43b;
            box-shadow: 0 0 10px rgba(255, 212, 59, 0.5);
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes pulseHighlight {
            0% { 
                border-color: #dc3545;
                box-shadow: 0 20px 40px rgba(220, 53, 69, 0.4);
            }
            50% { 
                border-color: #ff6b6b;
                box-shadow: 0 25px 50px rgba(255, 107, 107, 0.6);
            }
            100% { 
                border-color: #dc3545;
                box-shadow: 0 20px 40px rgba(220, 53, 69, 0.4);
            }
        }

        .rates-display {
            padding: 35px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .rates-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            max-width: 300px;
            position: relative;
        }

        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 1em;
            background: rgba(255,255,255,0.9);
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
        }

        .search-input::placeholder {
            color: #999;
        }

        .search-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #667eea;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            margin-top: 5px;
        }

        .search-result-item {
            padding: 12px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-result-item:hover {
            background-color: #f8f9fa;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-symbol {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
            min-width: 40px;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-name {
            font-weight: 600;
            color: #333;
        }

        .search-result-code {
            font-size: 0.9em;
            color: #666;
        }

        .no-results {
            padding: 20px;
            text-align: center;
            color: #666;
            font-style: italic;
        }

        .refresh-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .refresh-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .refresh-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .rates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .rate-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .rate-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .rate-card[data-currency="TWD"] {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            color: #333;
            border-left: 5px solid #667eea;
            transform: scale(1);
            padding: 30px 25px;
            min-height: 180px;
        }

        .rate-card[data-currency="TWD"] h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .rate-card[data-currency="TWD"] .rate-value {
            color: inherit;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .rate-card[data-currency="TWD"] .rate-label {
            color: #666;
            margin-bottom: 8px;
        }

        .rate-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .rate-card:hover::before {
            left: 100%;
        }

        .rate-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-weight: 600;
        }

        .rate-value {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .rate-label {
            color: #666;
            font-size: 0.95em;
            font-weight: 500;
        }

        .rate-change {
            font-size: 0.85em;
            margin-top: 8px;
            font-weight: 600;
        }

        .rate-change.positive {
            color: #28a745;
        }

        .rate-change.negative {
            color: #dc3545;
        }

        .converter-section {
            padding: 35px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        }

        .converter-title {
            text-align: center;
            margin-bottom: 35px;
            color: #333;
            font-size: 1.8em;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .converter-form {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 25px;
            align-items: center;
            margin-bottom: 35px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            margin-bottom: 10px;
            color: #555;
            font-weight: 600;
            font-size: 1.05em;
        }

        .input-group input {
            padding: 18px;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            font-size: 1.1em;
            transition: all 0.3s;
            background: rgba(255,255,255,0.9);
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .swap-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 25px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.3em;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .swap-btn:hover {
            transform: scale(1.1) rotate(180deg);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        .currency-select {
            padding: 18px;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            font-size: 1.1em;
            background: rgba(255,255,255,0.9);
            cursor: pointer;
            transition: all 0.3s;
        }

        .currency-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .result {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-radius: 15px;
            margin-top: 25px;
            display: none;
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.2);
            border: 1px solid rgba(40, 167, 69, 0.2);
        }

        .result.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-value {
            font-size: 2.2em;
            color: #155724;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .result-label {
            color: #155724;
            font-size: 1.15em;
            font-weight: 500;
        }

        .update-time {
            text-align: center;
            color: #666;
            font-size: 0.95em;
            margin-top: 25px;
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
        }

        .error-message {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            text-align: center;
            display: none;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.2);
            border: 1px solid rgba(220, 53, 69, 0.2);
        }

        @media (max-width: 768px) {
            .converter-form {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .rates-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }

            .api-status {
                flex-direction: column;
                text-align: center;
            }

            .header h1 {
                font-size: 2.2em;
            }
        }

        /* æµ®å‹•æŒ‰éˆ•æ¨£å¼ */
        .floating-btn {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        #floating-search-btn {
            top: 40%;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        #floating-search-btn:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.6);
            background: linear-gradient(135deg, #ff5252 0%, #d63031 100%);
        }

        .floating-btn:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }

        .floating-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        .floating-btn .icon {
            font-size: 1.2em;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ - åœ¨å°è¢å¹•ä¸Šèª¿æ•´æŒ‰éˆ•ä½ç½® */
        @media (max-width: 768px) {
            .floating-btn {
                left: 10px;
                padding: 12px 16px;
                font-size: 0.9em;
            }
            
            #floating-search-btn {
                top: 35%;
            }
            
            #floating-convert-btn {
                top: 55%;
            }
        }

        /* å‹•ç•«æ•ˆæœ */
        @keyframes float {
            0%, 100% {
                transform: translateY(-50%) translateX(0);
            }
            50% {
                transform: translateY(-50%) translateX(5px);
            }
        }

        @keyframes floatSearch {
            0%, 100% {
                transform: translateY(-50%) translateX(0);
            }
            50% {
                transform: translateY(-50%) translateX(-5px);
            }
        }

        .floating-btn {
            animation: float 3s ease-in-out infinite;
        }

        #floating-search-btn {
            animation: floatSearch 3s ease-in-out infinite;
        }

        .floating-btn:hover {
            animation: none;
        }

        /* å»£å‘Šå€åŸŸæ¨£å¼ */
        .ad-section {
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            text-align: center;
        }

        .ad-container {
            max-width: 728px;
            margin: 0 auto;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border: 1px dashed #ccc;
        }

        .ad-container:empty::before {
            content: 'å»£å‘Šå€åŸŸ';
            color: #999;
            font-style: italic;
        }

        /* éŸ¿æ‡‰å¼å»£å‘Š */
        @media (max-width: 768px) {
            .ad-container {
                max-width: 320px;
                min-height: 50px;
            }
        }

        /* èªè¨€é¸æ“‡å™¨æ¨£å¼ */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #667eea;
            border-radius: 25px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            color: #667eea;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
        }

        .language-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .language-option {
            color: #222;
            background: transparent;
            padding: 8px 16px;
            cursor: pointer;
            font-weight: 500;
            border-radius: 6px;
            transition: background 0.2s, color 0.2s;
        }
        body.dark-mode .language-option {
            color: #f1f1f1;
        }
        .language-option.active,
        .language-option:hover {
            background: #667eea;
            color: #fff;
        }

        .flag-icon {
            font-size: 1.2em;
        }

        /* éŸ¿æ‡‰å¼èªè¨€é¸æ“‡å™¨ */
        @media (max-width: 768px) {
            .language-selector {
                top: 10px;
                right: 10px;
            }
            
            .language-btn {
                padding: 6px 12px;
                font-size: 0.8em;
            }
        }

        /* RTL èªè¨€æ”¯æ´ */
        [dir="rtl"] {
            direction: rtl;
            text-align: right;
        }

        [dir="rtl"] .language-selector {
            left: 20px;
            right: auto;
        }

        [dir="rtl"] .language-dropdown {
            left: 0;
            right: auto;
        }

        [dir="rtl"] .swap-btn {
            transform: scaleX(-1);
        }

        /* åœ‹éš›åŒ–ç›¸é—œæ¨£å¼ */
        .currency-card {
            transition: all 0.3s ease;
        }

        .currency-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .currency-card.highlight {
            animation: pulse 2s infinite;
            border: 2px solid #ff4757;
        }

        /* å¤šèªè¨€å­—é«”å„ªåŒ– */
        .header h1, .header p {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        /* æ—¥æ–‡å’ŒéŸ“æ–‡å­—é«”å„ªåŒ– */
        [lang="ja"] {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
        }

        [lang="ko"] {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', 'Dotum', sans-serif;
        }

        /* ä¸­æ–‡ç¹é«”å­—é«”å„ªåŒ– */
        [lang="zh"] {
            font-family: 'PingFang TC', 'Helvetica Neue', 'Microsoft JhengHei', sans-serif;
        }

        /* é˜¿æ‹‰ä¼¯æ–‡å’Œå¸Œä¼¯ä¾†æ–‡æ”¯æ´ */
        [lang="ar"], [lang="he"] {
            font-family: 'Arial', 'Tahoma', sans-serif;
        }

        /* éŸ¿æ‡‰å¼åœ‹éš›åŒ– */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5em;
            }
            
            .header p {
                font-size: 0.9em;
            }
            
            .language-btn {
                font-size: 0.7em;
                padding: 4px 8px;
            }
        }

        .local-currency-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7em;
            font-weight: bold;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 900px) {
            .rates-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .converter-form {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            .converter-section {
                padding: 20px 5px;
            }
            .header h1, .converter-title {
                font-size: 1.3em;
            }
        }
        @media (max-width: 600px) {
            .rates-grid {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 0 2px;
            }
            .header h1, .converter-title {
                font-size: 1.1em;
            }
            .converter-section, .rates-header, .rates-grid {
                padding: 0;
            }
            .converter-form {
                gap: 10px;
            }
            .floating-btn {
                font-size: 0.9em;
                padding: 8px 12px;
            }
        }

        .quick-currency-select {
            margin: 10px 0 20px 0;
            text-align: center;
        }
        .quick-currency-select .quick-btn {
            margin: 0 4px;
            padding: 6px 14px;
            border: none;
            border-radius: 8px;
            background: #667eea;
            color: #fff;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.2s;
        }
        .quick-currency-select .quick-btn:hover {
            background: #5a67d8;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #232526 0%, #414345 100%) !important;
            color: #f1f1f1;
        }
        body.dark-mode .container {
            background: rgba(30,30,30,0.95);
        }
        body.dark-mode .rate-card {
            background: linear-gradient(135deg, #2c3e50 0%, #4b6cb7 100%);
            color: #f1f1f1;
            border-left: 5px solid #8ec6ff;
        }
        body.dark-mode .rate-card h3,
        body.dark-mode .rate-card .rate-label,
        body.dark-mode .rate-card .rate-value {
            color: #f1f1f1;
        }
        body.dark-mode .converter-section,
        body.dark-mode .rates-header,
        body.dark-mode .rates-grid {
            background: transparent;
        }
        body.dark-mode .result {
            background: linear-gradient(135deg, #2e7d32 0%, #388e3c 100%);
            color: #fff;
        }
        body.dark-mode .quick-currency-select .quick-btn {
            background: #4b6cb7;
        }
        body.dark-mode .quick-currency-select .quick-btn:hover {
            background: #35518a;
        }
        body.dark-mode .floating-btn {
            background: #232526;
            color: #fff;
        }
        body.dark-mode .floating-btn:hover {
            background: #414345;
        }
        body.dark-mode .swap-btn {
            background: #4b6cb7;
        }
        body.dark-mode .swap-btn:hover {
            background: #35518a;
        }
        body.dark-mode .search-input {
            background: #232526;
            color: #fff;
            border-color: #4b6cb7;
        }
        body.dark-mode .search-btn {
            background: #4b6cb7;
            color: #fff;
        }
        body.dark-mode .search-btn:hover {
            background: #35518a;
        }
        body.dark-mode .ad-section {
            background: transparent;
        }
        .copy-btn {
            background: #667eea;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 6px 18px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.2s;
        }
        .copy-btn:hover {
            background: #5a67d8;
        }
        body.dark-mode .copy-btn {
            background: #4b6cb7;
        }
        body.dark-mode .copy-btn:hover {
            background: #35518a;
        }

        /* åŒ¯ç‡é€šçŸ¥è¨‚é–±åŠŸèƒ½æ¨£å¼ */
        .notification-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .notification-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .notification-header h3 {
            font-size: 1.8em;
            color: #667eea;
            margin-bottom: 10px;
        }

        .notification-header p {
            color: #666;
            font-size: 1.1em;
        }

        .notification-content {
            display: grid;
            gap: 30px;
        }

        .email-subscription, .line-subscription {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .email-subscription h4, .line-subscription h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .subscription-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .email-input {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .email-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .currency-selection {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .currency-selection label {
            font-weight: 600;
            color: #333;
        }

        .currency-checkboxes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .currency-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .currency-checkbox:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .currency-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }

        .notification-time {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .notification-time label {
            font-weight: 600;
            color: #333;
        }

        .time-select {
            padding: 10px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1em;
            background: white;
        }

        .subscribe-btn, .unsubscribe-btn, .line-notify-btn, .upgrade-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .subscribe-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .subscribe-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .unsubscribe-btn {
            background: #ff6b6b;
            color: white;
        }

        .unsubscribe-btn:hover {
            background: #ff5252;
        }

        .line-notify-btn {
            background: #00c300;
            color: white;
            width: 100%;
        }

        .line-notify-btn:hover {
            background: #00a000;
        }

        .upgrade-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            margin-top: 15px;
        }

        .upgrade-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .plan-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .plan-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .plan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .free-plan {
            border-color: #667eea;
        }

        .premium-plan {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(238, 90, 36, 0.1) 100%);
        }

        .plan-card h5 {
            font-size: 1.4em;
            margin-bottom: 15px;
            color: #333;
        }

        .plan-card ul {
            list-style: none;
            padding: 0;
            margin: 0 0 20px 0;
        }

        .plan-card li {
            padding: 8px 0;
            color: #666;
            border-bottom: 1px solid #eee;
        }

        .plan-card li:last-child {
            border-bottom: none;
        }

        .subscription-status {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .subscription-status.success {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid #4caf50;
            color: #2e7d32;
        }

        .subscription-status.error {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid #f44336;
            color: #c62828;
        }

        /* æ·±è‰²æ¨¡å¼æ¨£å¼ */
        body.dark-mode .notification-section {
            background: rgba(30, 30, 30, 0.95);
            border-color: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .email-subscription,
        body.dark-mode .line-subscription {
            background: rgba(40, 40, 40, 0.8);
            border-color: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .email-input,
        body.dark-mode .time-select {
            background: #2a2a2a;
            border-color: #444;
            color: #fff;
        }

        body.dark-mode .currency-checkbox {
            background: rgba(102, 126, 234, 0.2);
            color: #fff;
        }

        body.dark-mode .plan-card {
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
        }

        body.dark-mode .plan-card li {
            color: #ccc;
            border-bottom-color: #444;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .notification-section {
                padding: 20px;
                margin: 20px 0;
            }

            .currency-checkboxes {
                grid-template-columns: 1fr;
            }

            .plan-comparison {
                grid-template-columns: 1fr;
            }

            .subscription-form {
                gap: 15px;
            }
        }

        /* æ–°å¢å°å‹æµ®ç©ºæŒ‰éˆ•æ¨£å¼ */
        .small-btn {
            padding: 7px 14px !important;
            font-size: 0.95em !important;
            border-radius: 9px !important;
        }
    </style>

    <button id="dark-mode-toggle" style="position:fixed;top:18px;right:18px;z-index:1000;padding:8px 18px;border-radius:8px;border:none;cursor:pointer;font-size:1em;box-shadow:0 2px 8px rgba(0,0,0,0.08);background:#232526;color:#fff;">ğŸŒ™ æ·±è‰²æ¨¡å¼</button>

    <script>
    // æ·±è‰²æ¨¡å¼åˆ‡æ›
    function setDarkMode(on) {
        if (on) {
            document.body.classList.add('dark-mode');
            localStorage.setItem('darkMode', '1');
            document.getElementById('dark-mode-toggle').textContent = 'â˜€ï¸ æ·ºè‰²æ¨¡å¼';
        } else {
            document.body.classList.remove('dark-mode');
            localStorage.setItem('darkMode', '0');
            document.getElementById('dark-mode-toggle').textContent = 'ğŸŒ™ æ·±è‰²æ¨¡å¼';
        }
    }
    document.getElementById('dark-mode-toggle').onclick = function() {
        setDarkMode(!document.body.classList.contains('dark-mode'));
    };
    // é é¢è¼‰å…¥æ™‚è‡ªå‹•å¥—ç”¨
    if (localStorage.getItem('darkMode') === '1') {
        setDarkMode(true);
    }
    </script>

    <!-- ç§»é™¤èˆŠèªè¨€é¸æ“‡å™¨å€å¡ŠåŠç›¸é—œCSS/JS -->
    <!-- æ–°èªè¨€é¸æ“‡å™¨ï¼ˆå³ä¸Šè§’ï¼‰ -->
    // ... existing code ...
<div style="position:fixed;top:60px;right:18px;z-index:1001;">
    <select id="lang-select" style="padding:8px 18px;border-radius:8px;font-size:1em;">
        <option value="zh">ç¹é«”ä¸­æ–‡</option>
        <option value="en">English</option>
        <option value="ja">æ—¥æœ¬èª</option>
        <option value="ko">í•œêµ­ì–´</option>
        <option value="es">EspaÃ±ol</option>
        <option value="fr">FranÃ§ais</option>
    </select>
</div>
// ... existing code ...

    <script>
    // æ–°å¢<select>åˆ‡æ›äº‹ä»¶
    document.getElementById('lang-select').addEventListener('change', function() {
        changeLanguage(this.value);
    });
    // é é¢è¼‰å…¥æ™‚è‡ªå‹•å¥—ç”¨localStorageèªè¨€
    document.addEventListener('DOMContentLoaded', function() {
        let browserLang = navigator.language || navigator.userLanguage || 'en';
        let lang = localStorage.getItem('lang') || (browserLang.startsWith('zh') ? 'zh' : 'en');
        document.getElementById('lang-select').value = lang;
        changeLanguage(lang);
    });
    // åœ¨changeLanguageè£¡è¨˜éŒ„èªè¨€
    const origChangeLanguage = changeLanguage;
    changeLanguage = function(lang) {
        localStorage.setItem('lang', lang);
        origChangeLanguage(lang);
        document.getElementById('lang-select').value = lang;
    }
    </script>
</head>
<body>
    <!-- ç²’å­å‹•ç•«èƒŒæ™¯ -->
    <div class="particles" id="particles"></div>

    <!-- æµ®å‹•æŒ‰éˆ• -->
    <button class="floating-btn" id="floating-search-btn" onclick="scrollToSearch()">
        <span class="icon">ğŸ”</span>
        <span id="floating-search-text">æœå°‹åœ‹å®¶</span>
    </button>
    
    <button class="floating-btn" id="floating-convert-btn" onclick="scrollToConverter()">
        <span class="icon">ğŸ’±</span>
        <span id="floating-btn-text">è²¨å¹£è½‰æ›</span>
    </button>

    <div class="container">
        <!-- èªè¨€é¸æ“‡å™¨ -->
        <div class="language-selector">
            <div class="language-btn" onclick="toggleLanguageDropdown()">
                <span class="flag-icon" id="current-flag">ğŸŒ</span>
                <span id="current-language">English</span>
            </div>
        </div>

        <div class="converter-section">
            <h2 class="converter-title">ğŸ’± åŒ¯ç‡è½‰æ›å™¨</h2>
            
            <div class="converter-form">
                <div class="input-group">
                    <label for="amount1">é‡‘é¡</label>
                    <input type="number" id="amount1" placeholder="è¼¸å…¥é‡‘é¡" step="0.01" min="0">
                </div>
                
                <div style="display: flex; align-items: center; justify-content: center;">
                    <span style="font-size: 1.8em; color: #667eea;">â†’</span>
                </div>
                
                <div class="input-group">
                    <label for="amount2">è½‰æ›çµæœ</label>
                    <input type="number" id="amount2" placeholder="è½‰æ›çµæœ" readonly>
                </div>
            </div>

            <div class="converter-form">
                <div class="input-group">
                    <label for="currency1">å¾</label>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <select id="currency1" onchange="convert(); updateFlag('currency1', 'flag1')"></select>
                        <span id="flag1" style="font-size:1.3em;"></span>
                    </div>
                </div>
                
                <button class="swap-btn" onclick="swapCurrencies()">â‡„</button>
                
                <div class="input-group">
                    <label for="currency2">åˆ°</label>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <select id="currency2" onchange="convert(); updateFlag('currency2', 'flag2')"></select>
                        <span id="flag2" style="font-size:1.3em;"></span>
                    </div>
                </div>
            </div>

            <div class="result" id="result">
                <div class="result-value" id="result-value">0.00</div>
                <div class="result-label" id="result-label">è½‰æ›çµæœ</div>
                <button id="copy-result-btn" class="copy-btn" style="margin-top:10px;display:none;">ğŸ“‹ è¤‡è£½çµæœ</button>
            </div>

            <div class="quick-currency-select">
                <span>å¸¸ç”¨è²¨å¹£ï¼š</span>
                <button class="quick-btn" onclick="setQuickCurrency('USD')">ç¾å…ƒ</button>
                <button class="quick-btn" onclick="setQuickCurrency('TWD')">å°å¹£</button>
                <button class="quick-btn" onclick="setQuickCurrency('JPY')">æ—¥åœ“</button>
                <button class="quick-btn" onclick="setQuickCurrency('KRW')">éŸ“å…ƒ</button>
                <button class="quick-btn" onclick="setQuickCurrency('EUR')">æ­å…ƒ</button>
            </div>
        </div>

        <div class="header">
            <h1>ğŸŒ è²¨å¹£è½‰æ›å¹³å°</h1>
            <p>å³æ™‚åŒ¯ç‡æŸ¥è©¢èˆ‡è½‰æ›è¨ˆç®—</p>
            
            <div class="api-status">
                <div class="status-item">
                    <div class="status-indicator" id="api-status"></div>
                    <span id="api-status-text">é€£æ¥æœ€æ–°åŒ¯ç‡ä¸­...</span>
                </div>
                <div class="status-item">
                    <span>æœ€å¾Œæ›´æ–°: </span>
                    <span id="last-update">è¼‰å…¥ä¸­...</span>
                </div>
            </div>
        </div>

        <div class="rates-display">
            <div class="rates-header">
                <h2>ğŸ“Š å³æ™‚åŒ¯ç‡</h2>
                <div class="search-container">
                    <input type="text" class="search-input" id="currency-search" placeholder="æœå°‹è²¨å¹£æˆ–åœ‹å®¶åç¨±..." autocomplete="off">
                    <button class="search-btn" onclick="searchCurrency()">
                        ğŸ”
                    </button>
                    <div class="search-results" id="search-results"></div>
                </div>
                <button class="refresh-btn" id="refresh-btn" onclick="fetchLatestRates()">
                    <span id="refresh-icon">ğŸ”„</span>
                    <span id="refresh-text">æ›´æ–°åŒ¯ç‡</span>
                </button>
            </div>
            
            <div class="error-message" id="error-message"></div>

            <div class="rates-grid">
                <div class="rate-card" data-currency="USD">
                    <h3>ğŸ‡ºğŸ‡¸ ç¾å…ƒ (USD)</h3>
                    <div class="rate-value" id="usd-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="usd-label">1 USD = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="usd-change"></div>
                </div>
                <div class="rate-card" data-currency="TWD">
                    <h3>ğŸ‡¹ğŸ‡¼ å°å¹£ (TWD)</h3>
                    <div class="rate-value" id="twd-rate">1.0000</div>
                    <div class="rate-label" id="twd-label">1 TWD = 1.0000 TWD</div>
                    <div class="rate-change" id="twd-change"></div>
                </div>
                <div class="rate-card" data-currency="EUR">
                    <h3>ğŸ‡ªğŸ‡º æ­å…ƒ (EUR)</h3>
                    <div class="rate-value" id="eur-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="eur-label">1 EUR = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="eur-change"></div>
                </div>
                <div class="rate-card" data-currency="GBP">
                    <h3>ğŸ‡¬ğŸ‡§ è‹±éŠ (GBP)</h3>
                    <div class="rate-value" id="gbp-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="gbp-label">1 GBP = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="gbp-change"></div>
                </div>
                <div class="rate-card" data-currency="JPY">
                    <h3>ğŸ‡¯ğŸ‡µ æ—¥åœ“ (JPY)</h3>
                    <div class="rate-value" id="jpy-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="jpy-label">1 JPY = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="jpy-change"></div>
                </div>
                <div class="rate-card" data-currency="CNY">
                    <h3>ğŸ‡¨ğŸ‡³ äººæ°‘å¹£ (CNY)</h3>
                    <div class="rate-value" id="cny-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="cny-label">1 CNY = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="cny-change"></div>
                </div>
                <div class="rate-card" data-currency="KRW">
                    <h3>ğŸ‡°ğŸ‡· éŸ“å…ƒ (KRW)</h3>
                    <div class="rate-value" id="krw-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="krw-label">1 KRW = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="krw-change"></div>
                </div>
                <div class="rate-card" data-currency="CAD">
                    <h3>ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§å…ƒ (CAD)</h3>
                    <div class="rate-value" id="cad-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="cad-label">1 CAD = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="cad-change"></div>
                </div>
                <div class="rate-card" data-currency="AUD">
                    <h3>ğŸ‡¦ğŸ‡º æ¾³æ´²å…ƒ (AUD)</h3>
                    <div class="rate-value" id="aud-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="aud-label">1 AUD = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="aud-change"></div>
                </div>
                <div class="rate-card" data-currency="CHF">
                    <h3>ğŸ‡¨ğŸ‡­ ç‘å£«æ³•éƒ (CHF)</h3>
                    <div class="rate-value" id="chf-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="chf-label">1 CHF = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="chf-change"></div>
                </div>
                <div class="rate-card" data-currency="SGD">
                    <h3>ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å…ƒ (SGD)</h3>
                    <div class="rate-value" id="sgd-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="sgd-label">1 SGD = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="sgd-change"></div>
                </div>
                <div class="rate-card" data-currency="HKD">
                    <h3>ğŸ‡­ğŸ‡° æ¸¯å¹£ (HKD)</h3>
                    <div class="rate-value" id="hkd-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="hkd-label">1 HKD = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="hkd-change"></div>
                </div>
                <div class="rate-card" data-currency="THB">
                    <h3>ğŸ‡¹ğŸ‡­ æ³°éŠ– (THB)</h3>
                    <div class="rate-value" id="thb-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="thb-label">1 THB = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="thb-change"></div>
                </div>
                <div class="rate-card" data-currency="MYR">
                    <h3>ğŸ‡²ğŸ‡¾ é¦¬ä¾†è¥¿äºä»¤å‰ (MYR)</h3>
                    <div class="rate-value" id="myr-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="myr-label">1 MYR = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="myr-change"></div>
                </div>
                <div class="rate-card" data-currency="PHP">
                    <h3>ğŸ‡µğŸ‡­ è²å¾‹è³“æŠ«ç´¢ (PHP)</h3>
                    <div class="rate-value" id="php-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="php-label">1 PHP = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="php-change"></div>
                </div>
                <div class="rate-card" data-currency="VND">
                    <h3>ğŸ‡»ğŸ‡³ è¶Šå—ç›¾ (VND)</h3>
                    <div class="rate-value" id="vnd-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="vnd-label">1 VND = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="vnd-change"></div>
                </div>
                <div class="rate-card" data-currency="IDR">
                    <h3>ğŸ‡®ğŸ‡© å°å°¼ç›¾ (IDR)</h3>
                    <div class="rate-value" id="idr-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="idr-label">1 IDR = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="idr-change"></div>
                </div>
                <div class="rate-card" data-currency="RUB">
                    <h3>ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯ç›§å¸ƒ (RUB)</h3>
                    <div class="rate-value" id="rub-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="rub-label">1 RUB = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="rub-change"></div>
                </div>
                <div class="rate-card" data-currency="ZAR">
                    <h3>ğŸ‡¿ğŸ‡¦ å—éè˜­ç‰¹ (ZAR)</h3>
                    <div class="rate-value" id="zar-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="zar-label">1 ZAR = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="zar-change"></div>
                </div>
                <div class="rate-card" data-currency="MXN">
                    <h3>ğŸ‡²ğŸ‡½ å¢¨è¥¿å“¥æŠ«ç´¢ (MXN)</h3>
                    <div class="rate-value" id="mxn-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="mxn-label">1 MXN = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="mxn-change"></div>
                </div>
                <div class="rate-card" data-currency="CLP">
                    <h3>ğŸ‡¨ğŸ‡± æ™ºåˆ©æŠ«ç´¢ (CLP)</h3>
                    <div class="rate-value" id="clp-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="clp-label">1 CLP = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="clp-change"></div>
                </div>
                <div class="rate-card" data-currency="COP">
                    <h3>ğŸ‡¨ğŸ‡´ å“¥å€«æ¯”äºæŠ«ç´¢ (COP)</h3>
                    <div class="rate-value" id="cop-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="cop-label">1 COP = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="cop-change"></div>
                </div>
                <div class="rate-card" data-currency="PEN">
                    <h3>ğŸ‡µğŸ‡ª ç§˜é­¯ç´¢çˆ¾ (PEN)</h3>
                    <div class="rate-value" id="pen-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="pen-label">1 PEN = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="pen-change"></div>
                </div>
                <div class="rate-card" data-currency="ARS">
                    <h3>ğŸ‡¦ğŸ‡· é˜¿æ ¹å»·æŠ«ç´¢ (ARS)</h3>
                    <div class="rate-value" id="ars-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="ars-label">1 ARS = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="ars-change"></div>
                </div>
                <div class="rate-card" data-currency="TRY">
                    <h3>ğŸ‡¹ğŸ‡· åœŸè€³å…¶é‡Œæ‹‰ (TRY)</h3>
                    <div class="rate-value" id="try-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="try-label">1 TRY = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="try-change"></div>
                </div>
                <div class="rate-card" data-currency="BRL">
                    <h3>ğŸ‡§ğŸ‡· å·´è¥¿é›·äºçˆ¾ (BRL)</h3>
                    <div class="rate-value" id="brl-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="brl-label">1 BRL = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="brl-change"></div>
                </div>
                <div class="rate-card" data-currency="INR">
                    <h3>ğŸ‡®ğŸ‡³ å°åº¦ç›§æ¯” (INR)</h3>
                    <div class="rate-value" id="inr-rate">è¼‰å…¥ä¸­...</div>
                    <div class="rate-label" id="inr-label">1 INR = è¼‰å…¥ä¸­... TWD</div>
                    <div class="rate-change" id="inr-change"></div>
                </div>
            </div>
        </div>

        <!-- å»£å‘Šå€åŸŸ -->
        <div class="ad-section">
            <div class="ad-container">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                     data-ad-slot="XXXXXXXXXX"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>

        <div class="update-time">
            é é¢æ›´æ–°æ™‚é–“: <span id="update-time"></span>
        </div>

        <!-- åŒ¯ç‡é€šçŸ¥è¨‚é–±åŠŸèƒ½ -->
        <div class="notification-section">
            <div class="notification-header">
                <h3 id="notification-title">ğŸ“§ æ¯æ—¥åŒ¯ç‡é€šçŸ¥</h3>
                <p id="notification-desc">ç²å–æ‚¨é¸æ“‡è²¨å¹£çš„æ¯æ—¥é€šçŸ¥</p>
            </div>

            <div class="notification-content">
                <!-- Email è¨‚é–±è¡¨å–® -->
                <div class="email-subscription">
                    <h4>ğŸ“§ Email è¨‚é–±</h4>
                    <div class="subscription-form">
                        <input type="email" id="email-input" placeholder="è¼¸å…¥æ‚¨çš„é›»å­éƒµä»¶åœ°å€" class="email-input">
                        <div class="currency-selection">
                            <label id="currency-selection-label">é¸æ“‡è¦ç›£æ§çš„è²¨å¹£ï¼š</label>
                            <div class="currency-checkboxes">
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="USD" checked>
                                    <span>ğŸ‡ºğŸ‡¸ ç¾å…ƒ (USD)</span>
                                </label>
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="JPY">
                                    <span>ğŸ‡¯ğŸ‡µ æ—¥åœ“ (JPY)</span>
                                </label>
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="CNY">
                                    <span>ğŸ‡¨ğŸ‡³ äººæ°‘å¹£ (CNY)</span>
                                </label>
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="EUR">
                                    <span>ğŸ‡ªğŸ‡º æ­å…ƒ (EUR)</span>
                                </label>
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="KRW">
                                    <span>ğŸ‡°ğŸ‡· éŸ“å…ƒ (KRW)</span>
                                </label>
                                <label class="currency-checkbox">
                                    <input type="checkbox" value="GBP">
                                    <span>ğŸ‡¬ğŸ‡§ è‹±éŠ (GBP)</span>
                                </label>
                            </div>
                        </div>
                        <div class="notification-time">
                            <label id="notification-time-label">é€šçŸ¥æ™‚é–“ï¼š</label>
                            <select id="notification-time-select" class="time-select">
                                <option value="09:00">æ¯æ—¥æ–¼ 09:00</option>
                                <option value="12:00" selected>æ¯æ—¥æ–¼ 12:00</option>
                                <option value="18:00">æ¯æ—¥æ–¼ 18:00</option>
                                <option value="21:00">æ¯æ—¥æ–¼ 21:00</option>
                            </select>
                        </div>
                        <button id="email-subscribe-btn" class="subscribe-btn" onclick="subscribeEmail()">è¨‚é–±</button>
                        <button id="email-unsubscribe-btn" class="unsubscribe-btn" onclick="unsubscribeEmail()" style="display:none;">å–æ¶ˆè¨‚é–±</button>
                    </div>
                </div>

                <!-- è¨‚é–±ç‹€æ…‹ -->
                <div id="subscription-status" class="subscription-status" style="display:none;">
                    <div id="status-message"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="disclaimer" style="text-align:center;color:#888;font-size:0.95em;margin:32px 0 12px 0;">
        æœ¬å¹³å°åŒ¯ç‡åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›åŒ¯ç‡è«‹ä»¥éŠ€è¡Œæˆ–äº¤æ˜“å¹³å°ç‚ºæº–ã€‚
    </div>

    <script>
        // å¤šèªè¨€ç¿»è­¯æ•¸æ“š
        const translations = {
            en: {
                title: "ğŸŒ Currency Converter",
                subtitle: "Real-time exchange rates for 27+ currencies",
                amount: "Amount",
                from: "From",
                to: "To",
                convert: "Convert",
                swap: "Swap",
                search: "Search currencies...",
                apiStatus: "API Status",
                connected: "Connected to latest rates",
                disconnected: "Disconnected",
                lastUpdate: "Last Update",
                popularCurrencies: "Popular Currencies",
                allCurrencies: "All Currencies",
                result: "Result",
                enterAmount: "Please enter an amount",
                selectCurrency: "Please select currencies",
                error: "Error occurred during conversion",
                floatingConvert: "Currency Converter",
                converterTitle: "ğŸ’± Exchange Rate Converter",
                amountLabel: "Amount",
                resultLabel: "Converted Result",
                enterAmountPlaceholder: "Enter amount",
                resultPlaceholder: "Converted result",
                pageUpdateTime: "Page Update Time",
                loading: "Loading...",
                refreshRates: "Refresh Rates",
                refreshing: "Refreshing...",
                floatingSearch: "Search Countries",
                localCurrency: "Local Currency",
                realTimeRates: "ğŸ“Š Real-time Exchange Rates",
                connectingRates: "Connecting to latest rates...",
                lastUpdateLabel: "Last Update: ",
                updateRates: "Update Rates",
                connectingService: "Connecting to exchange service...",
                connectedToRates: "Connected to latest rates",
                cannotConnectRates: "Cannot connect to latest rates",
                cannotConnectService: "Cannot connect to exchange service",
                exchangeRateCalculation: "Exchange rate calculation",
                swapCurrencies: "Swap Currencies",
                swapCurrencySelection: "Swap currency selection",
                swapAmount: "Swap amount",
                copyResultBtn: "Copy Result",
                copied: "Copied",
                quickCurrencies: ["ç¾å…ƒ", "å°å¹£", "æ—¥åœ“", "éŸ“å…ƒ", "æ­å…ƒ"],
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ Daily Rate Notifications",
                subscribeTitle: "Subscribe to Daily Rate Alerts",
                subscribeDesc: "Get daily notifications for your selected currencies",
                emailPlaceholder: "Enter your email address",
                lineNotifyDesc: "Connect LINE Notify for instant notifications",
                lineNotifyBtn: "Connect LINE Notify",
                subscribeBtn: "Subscribe",
                unsubscribeBtn: "Unsubscribe",
                selectCurrencies: "Select currencies to monitor",
                notificationTime: "Notification time",
                dailyAt: "Daily at",
                subscribeSuccess: "Successfully subscribed!",
                subscribeError: "Subscription failed. Please try again.",
                unsubscribeSuccess: "Successfully unsubscribed!",
                unsubscribeError: "Unsubscription failed. Please try again.",
                emailRequired: "Email is required",
                currencyRequired: "Please select at least one currency",
                freePlan: "Free Plan",
                premiumPlan: "Premium Plan",
                freeFeatures: "Daily notifications, 3 currencies",
                premiumFeatures: "Real-time alerts, unlimited currencies, custom thresholds",
                upgradeBtn: "Upgrade to Premium",
                manageSubscriptions: "Manage Subscriptions",
                floatingEmailBtn: "Subscribe Email Alert"
            },
            zh: {
                title: "ğŸŒ è²¨å¹£è½‰æ›å¹³å°",
                subtitle: "27+ ç¨®è²¨å¹£å³æ™‚åŒ¯ç‡è½‰æ›",
                amount: "é‡‘é¡",
                from: "å¾",
                to: "åˆ°",
                convert: "è½‰æ›",
                swap: "äº¤æ›",
                search: "æœå°‹è²¨å¹£...",
                apiStatus: "API ç‹€æ…‹",
                connected: "é€£æ¥æœ€æ–°åŒ¯ç‡",
                disconnected: "é€£æ¥ä¸­æ–·",
                lastUpdate: "æœ€å¾Œæ›´æ–°",
                popularCurrencies: "ç†±é–€è²¨å¹£",
                allCurrencies: "æ‰€æœ‰è²¨å¹£",
                result: "çµæœ",
                enterAmount: "è«‹è¼¸å…¥é‡‘é¡",
                selectCurrency: "è«‹é¸æ“‡è²¨å¹£",
                error: "è½‰æ›æ™‚ç™¼ç”ŸéŒ¯èª¤",
                floatingConvert: "è²¨å¹£è½‰æ›",
                converterTitle: "ğŸ’± åŒ¯ç‡è½‰æ›å™¨",
                amountLabel: "é‡‘é¡",
                resultLabel: "è½‰æ›çµæœ",
                enterAmountPlaceholder: "è¼¸å…¥é‡‘é¡",
                resultPlaceholder: "è½‰æ›çµæœ",
                pageUpdateTime: "é é¢æ›´æ–°æ™‚é–“",
                loading: "è¼‰å…¥ä¸­...",
                refreshRates: "åˆ·æ–°åŒ¯ç‡",
                refreshing: "åˆ·æ–°ä¸­...",
                floatingSearch: "æœå°‹åœ‹å®¶",
                localCurrency: "ç•¶åœ°è²¨å¹£",
                realTimeRates: "ğŸ“Š å³æ™‚åŒ¯ç‡",
                connectingRates: "é€£æ¥æœ€æ–°åŒ¯ç‡ä¸­...",
                lastUpdateLabel: "æœ€å¾Œæ›´æ–°: ",
                updateRates: "æ›´æ–°åŒ¯ç‡",
                connectingService: "é€£æ¥åŒ¯ç‡æœå‹™ä¸­...",
                connectedToRates: "å·²é€£æ¥æœ€æ–°åŒ¯ç‡",
                cannotConnectRates: "ç„¡æ³•é€£æ¥æœ€æ–°åŒ¯ç‡",
                cannotConnectService: "ç„¡æ³•é€£æ¥åˆ°åŒ¯ç‡æœå‹™",
                exchangeRateCalculation: "å³æ™‚åŒ¯ç‡æŸ¥è©¢èˆ‡è½‰æ›è¨ˆç®—",
                swapCurrencies: "äº¤æ›è²¨å¹£",
                swapCurrencySelection: "äº¤æ›è²¨å¹£é¸æ“‡",
                swapAmount: "äº¤æ›é‡‘é¡",
                copyResultBtn: "è¤‡è£½çµæœ",
                copied: "å·²è¤‡è£½",
                quickCurrencies: ["å°å¹£", "ç¾å…ƒ", "æ—¥åœ“", "éŸ“å…ƒ", "æ­å…ƒ"],
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ æ¯æ—¥åŒ¯ç‡é€šçŸ¥",
                subscribeTitle: "è¨‚é–±æ¯æ—¥åŒ¯ç‡æé†’",
                subscribeDesc: "ç²å–æ‚¨é¸æ“‡è²¨å¹£çš„æ¯æ—¥é€šçŸ¥",
                emailPlaceholder: "è¼¸å…¥æ‚¨çš„é›»å­éƒµä»¶åœ°å€",
                lineNotifyDesc: "é€£æ¥ LINE Notify ç²å–å³æ™‚é€šçŸ¥",
                lineNotifyBtn: "é€£æ¥ LINE Notify",
                subscribeBtn: "è¨‚é–±",
                unsubscribeBtn: "å–æ¶ˆè¨‚é–±",
                selectCurrencies: "é¸æ“‡è¦ç›£æ§çš„è²¨å¹£",
                notificationTime: "é€šçŸ¥æ™‚é–“",
                dailyAt: "æ¯æ—¥æ–¼",
                subscribeSuccess: "è¨‚é–±æˆåŠŸï¼",
                subscribeError: "è¨‚é–±å¤±æ•—ï¼Œè«‹é‡è©¦ã€‚",
                unsubscribeSuccess: "å–æ¶ˆè¨‚é–±æˆåŠŸï¼",
                unsubscribeError: "å–æ¶ˆè¨‚é–±å¤±æ•—ï¼Œè«‹é‡è©¦ã€‚",
                emailRequired: "è«‹è¼¸å…¥é›»å­éƒµä»¶",
                currencyRequired: "è«‹è‡³å°‘é¸æ“‡ä¸€ç¨®è²¨å¹£",
                freePlan: "å…è²»æ–¹æ¡ˆ",
                premiumPlan: "é€²éšæ–¹æ¡ˆ",
                freeFeatures: "æ¯æ—¥é€šçŸ¥ï¼Œ3ç¨®è²¨å¹£",
                premiumFeatures: "å³æ™‚æé†’ï¼Œç„¡é™åˆ¶è²¨å¹£ï¼Œè‡ªè¨‚é–¾å€¼",
                upgradeBtn: "å‡ç´šè‡³é€²éšç‰ˆ",
                manageSubscriptions: "ç®¡ç†è¨‚é–±",
                floatingEmailBtn: "è¨‚é–±åŒ¯ç‡é€šçŸ¥"
            },
            ja: {
                title: "ğŸŒ é€šè²¨æ›ç®—ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ",
                subtitle: "27+é€šè²¨ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆ",
                amount: "é‡‘é¡",
                from: "ã‹ã‚‰",
                to: "ã¸",
                convert: "æ›ç®—",
                swap: "äº¤æ›",
                search: "é€šè²¨ã‚’æ¤œç´¢...",
                apiStatus: "API ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",
                connected: "æœ€æ–°ãƒ¬ãƒ¼ãƒˆã«æ¥ç¶šæ¸ˆã¿",
                disconnected: "æ¥ç¶šåˆ‡ã‚Œ",
                lastUpdate: "æœ€çµ‚æ›´æ–°",
                popularCurrencies: "äººæ°—é€šè²¨",
                allCurrencies: "å…¨é€šè²¨",
                result: "çµæœ",
                enterAmount: "é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
                selectCurrency: "é€šè²¨ã‚’é¸æŠã—ã¦ãã ã•ã„",
                error: "æ›ç®—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",
                floatingConvert: "é€šè²¨æ›ç®—",
                converterTitle: "ğŸ’± ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆæ›ç®—æ©Ÿ",
                amountLabel: "é‡‘é¡",
                resultLabel: "æ›ç®—çµæœ",
                enterAmountPlaceholder: "é‡‘é¡ã‚’å…¥åŠ›",
                resultPlaceholder: "æ›ç®—çµæœ",
                pageUpdateTime: "ãƒšãƒ¼ã‚¸æ›´æ–°æ™‚é–“",
                loading: "èª­ã¿è¾¼ã¿ä¸­...",
                refreshRates: "ãƒ¬ãƒ¼ãƒˆæ›´æ–°",
                refreshing: "æ›´æ–°ä¸­...",
                floatingSearch: "å›½ã‚’æ¤œç´¢",
                localCurrency: "ç¾åœ°é€šè²¨",
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ æ—¥æ¬¡ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆé€šçŸ¥",
                subscribeTitle: "æ—¥æ¬¡ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆã‚’è³¼èª­",
                subscribeDesc: "é¸æŠã—ãŸé€šè²¨ã®æ—¥æ¬¡é€šçŸ¥ã‚’å—ã‘å–ã‚‹",
                emailPlaceholder: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›",
                lineNotifyDesc: "LINE Notifyã«æ¥ç¶šã—ã¦å³åº§ã«é€šçŸ¥ã‚’å—ä¿¡",
                lineNotifyBtn: "LINE Notifyã«æ¥ç¶š",
                subscribeBtn: "è³¼èª­",
                unsubscribeBtn: "è³¼èª­è§£é™¤",
                selectCurrencies: "ç›£è¦–ã™ã‚‹é€šè²¨ã‚’é¸æŠ",
                notificationTime: "é€šçŸ¥æ™‚é–“",
                dailyAt: "æ¯æ—¥",
                subscribeSuccess: "è³¼èª­ã«æˆåŠŸã—ã¾ã—ãŸï¼",
                subscribeError: "è³¼èª­ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
                unsubscribeSuccess: "è³¼èª­è§£é™¤ã«æˆåŠŸã—ã¾ã—ãŸï¼",
                unsubscribeError: "è³¼èª­è§£é™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
                emailRequired: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¿…è¦ã§ã™",
                currencyRequired: "å°‘ãªãã¨ã‚‚1ã¤ã®é€šè²¨ã‚’é¸æŠã—ã¦ãã ã•ã„",
                freePlan: "ç„¡æ–™ãƒ—ãƒ©ãƒ³",
                premiumPlan: "ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³",
                freeFeatures: "æ—¥æ¬¡é€šçŸ¥ã€3é€šè²¨",
                premiumFeatures: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆã€ç„¡åˆ¶é™é€šè²¨ã€ã‚«ã‚¹ã‚¿ãƒ é–¾å€¤",
                upgradeBtn: "ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
                manageSubscriptions: "è³¼èª­ç®¡ç†",
                floatingEmailBtn: "ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’è³¼èª­"
            },
            ko: {
                title: "ğŸŒ í†µí™” ë³€í™˜ í”Œë«í¼",
                subtitle: "27+ í†µí™” ì‹¤ì‹œê°„ í™˜ìœ¨",
                amount: "ê¸ˆì•¡",
                from: "ì—ì„œ",
                to: "ë¡œ",
                convert: "ë³€í™˜",
                swap: "êµí™˜",
                search: "í†µí™” ê²€ìƒ‰...",
                apiStatus: "API ìƒíƒœ",
                connected: "ìµœì‹  í™˜ìœ¨ì— ì—°ê²°ë¨",
                disconnected: "ì—°ê²° ëŠê¹€",
                lastUpdate: "ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸",
                popularCurrencies: "ì¸ê¸° í†µí™”",
                allCurrencies: "ëª¨ë“  í†µí™”",
                result: "ê²°ê³¼",
                enterAmount: "ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”",
                selectCurrency: "í†µí™”ë¥¼ ì„ íƒí•˜ì„¸ìš”",
                error: "ë³€í™˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤",
                floatingConvert: "í†µí™” ë³€í™˜",
                converterTitle: "ğŸ’± í™˜ìœ¨ ë³€í™˜ê¸°",
                amountLabel: "ê¸ˆì•¡",
                resultLabel: "ë³€í™˜ ê²°ê³¼",
                enterAmountPlaceholder: "ê¸ˆì•¡ ì…ë ¥",
                resultPlaceholder: "ë³€í™˜ ê²°ê³¼",
                pageUpdateTime: "í˜ì´ì§€ ì—…ë°ì´íŠ¸ ì‹œê°„",
                loading: "ë¡œë”© ì¤‘...",
                refreshRates: "ë ˆì´íŠ¸ ìƒˆë¡œê³ ì¹¨",
                refreshing: "ìƒˆë¡œê³ ì¹¨ ì¤‘...",
                floatingSearch: "êµ­ê°€ ê²€ìƒ‰",
                localCurrency: "í˜„ì§€ í†µí™”",
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ ì¼ì¼ í™˜ìœ¨ ì•Œë¦¼",
                subscribeTitle: "ì¼ì¼ í™˜ìœ¨ ì•Œë¦¼ êµ¬ë…",
                subscribeDesc: "ì„ íƒí•œ í†µí™”ì˜ ì¼ì¼ ì•Œë¦¼ì„ ë°›ìœ¼ì„¸ìš”",
                emailPlaceholder: "ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”",
                lineNotifyDesc: "LINE Notifyì— ì—°ê²°í•˜ì—¬ ì¦‰ì‹œ ì•Œë¦¼ì„ ë°›ìœ¼ì„¸ìš”",
                lineNotifyBtn: "LINE Notify ì—°ê²°",
                subscribeBtn: "êµ¬ë…",
                unsubscribeBtn: "êµ¬ë… í•´ì§€",
                selectCurrencies: "ëª¨ë‹ˆí„°ë§í•  í†µí™” ì„ íƒ",
                notificationTime: "ì•Œë¦¼ ì‹œê°„",
                dailyAt: "ë§¤ì¼",
                subscribeSuccess: "êµ¬ë…ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!",
                subscribeError: "êµ¬ë…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
                unsubscribeSuccess: "êµ¬ë… í•´ì§€ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!",
                unsubscribeError: "êµ¬ë… í•´ì§€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
                emailRequired: "ì´ë©”ì¼ì´ í•„ìš”í•©ë‹ˆë‹¤",
                currencyRequired: "ìµœì†Œ í•˜ë‚˜ì˜ í†µí™”ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”",
                freePlan: "ë¬´ë£Œ í”Œëœ",
                premiumPlan: "í”„ë¦¬ë¯¸ì—„ í”Œëœ",
                freeFeatures: "ì¼ì¼ ì•Œë¦¼, 3ê°œ í†µí™”",
                premiumFeatures: "ì‹¤ì‹œê°„ ì•Œë¦¼, ë¬´ì œí•œ í†µí™”, ì‚¬ìš©ì ì •ì˜ ì„ê³„ê°’",
                upgradeBtn: "í”„ë¦¬ë¯¸ì—„ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ",
                manageSubscriptions: "êµ¬ë… ê´€ë¦¬",
                floatingEmailBtn: "ì´ë©”ì¼ ì•Œë¦¼ êµ¬ë…"
            },
            es: {
                title: "ğŸŒ Convertidor de Monedas",
                subtitle: "Tipos de cambio en tiempo real para 27+ monedas",
                amount: "Cantidad",
                from: "De",
                to: "A",
                convert: "Convertir",
                swap: "Intercambiar",
                search: "Buscar monedas...",
                apiStatus: "Estado API",
                connected: "Conectado a tasas mÃ¡s recientes",
                disconnected: "Desconectado",
                lastUpdate: "Ãšltima ActualizaciÃ³n",
                popularCurrencies: "Monedas Populares",
                allCurrencies: "Todas las Monedas",
                result: "Resultado",
                enterAmount: "Por favor ingrese una cantidad",
                selectCurrency: "Por favor seleccione monedas",
                error: "Error durante la conversiÃ³n",
                floatingConvert: "Convertidor de Monedas",
                converterTitle: "ğŸ’± Convertidor de Tipos de Cambio",
                amountLabel: "Cantidad",
                resultLabel: "Resultado Convertido",
                enterAmountPlaceholder: "Ingrese cantidad",
                resultPlaceholder: "Resultado convertido",
                pageUpdateTime: "Tiempo de ActualizaciÃ³n de PÃ¡gina",
                loading: "Cargando...",
                refreshRates: "Actualizar Tasas",
                refreshing: "Actualizando...",
                floatingSearch: "Buscar PaÃ­ses",
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ Notificaciones Diarias de Tasas",
                subscribeTitle: "Suscribirse a Alertas Diarias de Tasas",
                subscribeDesc: "Reciba notificaciones diarias para sus monedas seleccionadas",
                emailPlaceholder: "Ingrese su direcciÃ³n de correo electrÃ³nico",
                lineNotifyDesc: "Conecte LINE Notify para notificaciones instantÃ¡neas",
                lineNotifyBtn: "Conectar LINE Notify",
                subscribeBtn: "Suscribirse",
                unsubscribeBtn: "Cancelar SuscripciÃ³n",
                selectCurrencies: "Seleccione monedas para monitorear",
                notificationTime: "Hora de notificaciÃ³n",
                dailyAt: "Diariamente a las",
                subscribeSuccess: "Â¡SuscripciÃ³n exitosa!",
                subscribeError: "Error en la suscripciÃ³n. Por favor intente de nuevo.",
                unsubscribeSuccess: "Â¡CancelaciÃ³n de suscripciÃ³n exitosa!",
                unsubscribeError: "Error al cancelar suscripciÃ³n. Por favor intente de nuevo.",
                emailRequired: "Se requiere correo electrÃ³nico",
                currencyRequired: "Por favor seleccione al menos una moneda",
                freePlan: "Plan Gratuito",
                premiumPlan: "Plan Premium",
                freeFeatures: "Notificaciones diarias, 3 monedas",
                premiumFeatures: "Alertas en tiempo real, monedas ilimitadas, umbrales personalizados",
                upgradeBtn: "Actualizar a Premium",
                manageSubscriptions: "Gestionar Suscripciones",
                floatingEmailBtn: "Suscribirse al aviso por correo"
            },
            fr: {
                title: "ğŸŒ Convertisseur de Devises",
                subtitle: "Taux de change en temps rÃ©el pour 27+ devises",
                amount: "Montant",
                from: "De",
                to: "Ã€",
                convert: "Convertir",
                swap: "Ã‰changer",
                search: "Rechercher des devises...",
                // åŒ¯ç‡é€šçŸ¥è¨‚é–±ç›¸é—œ
                rateNotification: "ğŸ“§ Notifications Quotidiennes de Taux",
                subscribeTitle: "S'abonner aux Alertes Quotidiennes de Taux",
                subscribeDesc: "Recevez des notifications quotidiennes pour vos devises sÃ©lectionnÃ©es",
                emailPlaceholder: "Entrez votre adresse e-mail",
                lineNotifyDesc: "Connectez LINE Notify pour des notifications instantanÃ©es",
                lineNotifyBtn: "Connecter LINE Notify",
                subscribeBtn: "S'abonner",
                unsubscribeBtn: "Se dÃ©sabonner",
                selectCurrencies: "SÃ©lectionnez les devises Ã  surveiller",
                notificationTime: "Heure de notification",
                dailyAt: "Quotidiennement Ã ",
                subscribeSuccess: "Abonnement rÃ©ussi !",
                subscribeError: "Ã‰chec de l'abonnement. Veuillez rÃ©essayer.",
                unsubscribeSuccess: "DÃ©sabonnement rÃ©ussi !",
                unsubscribeError: "Ã‰chec du dÃ©sabonnement. Veuillez rÃ©essayer.",
                emailRequired: "L'e-mail est requis",
                currencyRequired: "Veuillez sÃ©lectionner au moins une devise",
                freePlan: "Plan Gratuit",
                premiumPlan: "Plan Premium",
                freeFeatures: "Notifications quotidiennes, 3 devises",
                premiumFeatures: "Alertes en temps rÃ©el, devises illimitÃ©es, seuils personnalisÃ©s",
                upgradeBtn: "Passer Ã  Premium",
                manageSubscriptions: "GÃ©rer les Abonnements",
                floatingEmailBtn: "S'abonner Ã  l'alerte e-mail"
            }
        };

        // è²¨å¹£åç¨±ç¿»è­¯
        const currencyNames = {
            en: {
                USD: "US Dollar",
                EUR: "Euro",
                JPY: "Japanese Yen",
                CNY: "Chinese Yuan",
                KRW: "South Korean Won",
                TWD: "Taiwan Dollar",
                GBP: "British Pound",
                CAD: "Canadian Dollar",
                AUD: "Australian Dollar",
                CHF: "Swiss Franc",
                SGD: "Singapore Dollar",
                HKD: "Hong Kong Dollar",
                THB: "Thai Baht",
                MYR: "Malaysian Ringgit",
                PHP: "Philippine Peso",
                VND: "Vietnamese Dong",
                IDR: "Indonesian Rupiah",
                RUB: "Russian Ruble",
                ZAR: "South African Rand",
                MXN: "Mexican Peso",
                CLP: "Chilean Peso",
                COP: "Colombian Peso",
                PEN: "Peruvian Sol",
                ARS: "Argentine Peso",
                TRY: "Turkish Lira",
                BRL: "Brazilian Real",
                INR: "Indian Rupee"
            },
            zh: {
                USD: "ç¾å…ƒ",
                EUR: "æ­å…ƒ",
                JPY: "æ—¥åœ“",
                CNY: "äººæ°‘å¹£",
                KRW: "éŸ“å…ƒ",
                TWD: "å°å¹£",
                GBP: "è‹±éŠ",
                CAD: "åŠ æ‹¿å¤§å…ƒ",
                AUD: "æ¾³æ´²å…ƒ",
                CHF: "ç‘å£«æ³•éƒ",
                SGD: "æ–°åŠ å¡å…ƒ",
                HKD: "æ¸¯å¹£",
                THB: "æ³°éŠ–",
                MYR: "é¦¬ä¾†è¥¿äºä»¤å‰",
                PHP: "è²å¾‹è³“æŠ«ç´¢",
                VND: "è¶Šå—ç›¾",
                IDR: "å°å°¼ç›¾",
                RUB: "ä¿„ç¾…æ–¯ç›§å¸ƒ",
                ZAR: "å—éè˜­ç‰¹",
                MXN: "å¢¨è¥¿å“¥æŠ«ç´¢",
                CLP: "æ™ºåˆ©æŠ«ç´¢",
                COP: "å“¥å€«æ¯”äºæŠ«ç´¢",
                PEN: "ç§˜é­¯ç´¢çˆ¾",
                ARS: "é˜¿æ ¹å»·æŠ«ç´¢",
                TRY: "åœŸè€³å…¶é‡Œæ‹‰",
                BRL: "å·´è¥¿é›·äºçˆ¾",
                INR: "å°åº¦ç›§æ¯”"
            },
            ja: {
                USD: "ç±³ãƒ‰ãƒ«",
                EUR: "ãƒ¦ãƒ¼ãƒ­",
                JPY: "æ—¥æœ¬å††",
                CNY: "ä¸­å›½äººæ°‘å…ƒ",
                KRW: "éŸ“å›½ã‚¦ã‚©ãƒ³",
                TWD: "å°æ¹¾ãƒ‰ãƒ«",
                GBP: "ã‚¤ã‚®ãƒªã‚¹ãƒãƒ³ãƒ‰",
                CAD: "ã‚«ãƒŠãƒ€ãƒ‰ãƒ«",
                AUD: "ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ãƒ‰ãƒ«",
                CHF: "ã‚¹ã‚¤ã‚¹ãƒ•ãƒ©ãƒ³",
                SGD: "ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«ãƒ‰ãƒ«",
                HKD: "é¦™æ¸¯ãƒ‰ãƒ«",
                THB: "ã‚¿ã‚¤ãƒãƒ¼ãƒ„",
                MYR: "ãƒãƒ¬ãƒ¼ã‚·ã‚¢ãƒªãƒ³ã‚®ãƒƒãƒˆ",
                PHP: "ãƒ•ã‚£ãƒªãƒ”ãƒ³ãƒšã‚½",
                VND: "ãƒ™ãƒˆãƒŠãƒ ãƒ‰ãƒ³",
                IDR: "ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢ãƒ«ãƒ”ã‚¢",
                RUB: "ãƒ­ã‚·ã‚¢ãƒ«ãƒ¼ãƒ–ãƒ«",
                ZAR: "å—ã‚¢ãƒ•ãƒªã‚«ãƒ©ãƒ³ãƒ‰",
                MXN: "ãƒ¡ã‚­ã‚·ã‚³ãƒšã‚½",
                CLP: "ãƒãƒªãƒšã‚½",
                COP: "ã‚³ãƒ­ãƒ³ãƒ“ã‚¢ãƒšã‚½",
                PEN: "ãƒšãƒ«ãƒ¼ã‚½ãƒ«",
                ARS: "ã‚¢ãƒ«ã‚¼ãƒ³ãƒãƒ³ãƒšã‚½",
                TRY: "ãƒˆãƒ«ã‚³ãƒªãƒ©",
                BRL: "ãƒ–ãƒ©ã‚¸ãƒ«ãƒ¬ã‚¢ãƒ«",
                INR: "ã‚¤ãƒ³ãƒ‰ãƒ«ãƒ”ãƒ¼"
            },
            ko: {
                USD: "ë¯¸êµ­ ë‹¬ëŸ¬",
                EUR: "ìœ ë¡œ",
                JPY: "ì¼ë³¸ ì—”",
                CNY: "ì¤‘êµ­ ìœ„ì•ˆ",
                KRW: "í•œêµ­ ì›",
                TWD: "ëŒ€ë§Œ ë‹¬ëŸ¬",
                GBP: "ì˜êµ­ íŒŒìš´ë“œ",
                CAD: "ìºë‚˜ë‹¤ ë‹¬ëŸ¬",
                AUD: "í˜¸ì£¼ ë‹¬ëŸ¬",
                CHF: "ìŠ¤ìœ„ìŠ¤ í”„ë‘",
                SGD: "ì‹±ê°€í¬ë¥´ ë‹¬ëŸ¬",
                HKD: "í™ì½© ë‹¬ëŸ¬",
                THB: "íƒœêµ­ ë°”íŠ¸",
                MYR: "ë§ë ˆì´ì‹œì•„ ë§ê¹ƒ",
                PHP: "í•„ë¦¬í•€ í˜ì†Œ",
                VND: "ë² íŠ¸ë‚¨ ë™",
                IDR: "ì¸ë„ë„¤ì‹œì•„ ë£¨í”¼ì•„",
                RUB: "ëŸ¬ì‹œì•„ ë£¨ë¸”",
                ZAR: "ë‚¨ì•„í”„ë¦¬ì¹´ ëœë“œ",
                MXN: "ë©•ì‹œì½” í˜ì†Œ",
                CLP: "ì¹ ë ˆ í˜ì†Œ",
                COP: "ì½œë¡¬ë¹„ì•„ í˜ì†Œ",
                PEN: "í˜ë£¨ ì†”",
                ARS: "ì•„ë¥´í—¨í‹°ë‚˜ í˜ì†Œ",
                TRY: "í„°í‚¤ ë¦¬ë¼",
                BRL: "ë¸Œë¼ì§ˆ í—¤ì•Œ",
                INR: "ì¸ë„ ë£¨í”¼"
            },
            es: {
                USD: "DÃ³lar Estadounidense",
                EUR: "Euro",
                JPY: "Yen JaponÃ©s",
                CNY: "Yuan Chino",
                KRW: "Won Surcoreano",
                TWD: "DÃ³lar TaiwanÃ©s",
                GBP: "Libra Esterlina",
                CAD: "DÃ³lar Canadiense",
                AUD: "DÃ³lar Australiano",
                CHF: "Franco Suizo",
                SGD: "DÃ³lar de Singapur",
                HKD: "DÃ³lar de Hong Kong",
                THB: "Baht TailandÃ©s",
                MYR: "Ringgit Malayo",
                PHP: "Peso Filipino",
                VND: "Dong Vietnamita",
                IDR: "Rupia Indonesia",
                RUB: "Rublo Ruso",
                ZAR: "Rand Sudafricano",
                MXN: "Peso Mexicano",
                CLP: "Peso Chileno",
                COP: "Peso Colombiano",
                PEN: "Sol Peruano",
                ARS: "Peso Argentino",
                TRY: "Lira Turca",
                BRL: "Real BrasileÃ±o",
                INR: "Rupia India"
            },
            fr: {
                USD: "Dollar AmÃ©ricain",
                EUR: "Euro",
                JPY: "Yen Japonais",
                CNY: "Yuan Chinois",
                KRW: "Won Sud-CorÃ©en",
                TWD: "Dollar TaÃ¯wanais",
                GBP: "Livre Sterling",
                CAD: "Dollar Canadien",
                AUD: "Dollar Australien",
                CHF: "Franc Suisse",
                SGD: "Dollar de Singapour",
                HKD: "Dollar de Hong Kong",
                THB: "Baht ThaÃ¯landais",
                MYR: "Ringgit Malaisien",
                PHP: "Peso Philippin",
                VND: "Dong Vietnamien",
                IDR: "Roupie IndonÃ©sienne",
                RUB: "Rouble Russe",
                ZAR: "Rand Sud-Africain",
                MXN: "Peso Mexicain",
                CLP: "Peso Chilien",
                COP: "Peso Colombien",
                PEN: "Sol PÃ©ruvien",
                ARS: "Peso Argentin",
                TRY: "Livre Turque",
                BRL: "Real BrÃ©silien",
                INR: "Roupie Indienne",
                copyResultBtn: "Copier le rÃ©sultat",
                copied: "CopiÃ©"
            }
        };

        // èªè¨€é…ç½®
        const languageConfig = {
            en: { flag: "ğŸ‡ºğŸ‡¸", name: "English", defaultCurrency: "USD", localCurrency: "USD" },
            zh: { flag: "ğŸ‡¹ğŸ‡¼", name: "ç¹é«”ä¸­æ–‡", defaultCurrency: "TWD", localCurrency: "TWD" },
            ja: { flag: "ğŸ‡¯ğŸ‡µ", name: "æ—¥æœ¬èª", defaultCurrency: "JPY", localCurrency: "JPY" },
            ko: { flag: "ğŸ‡°ğŸ‡·", name: "í•œêµ­ì–´", defaultCurrency: "KRW", localCurrency: "KRW" },
            es: { flag: "ğŸ‡ªğŸ‡¸", name: "EspaÃ±ol", defaultCurrency: "EUR", localCurrency: "EUR" },
            fr: { flag: "ğŸ‡«ğŸ‡·", name: "FranÃ§ais", defaultCurrency: "EUR", localCurrency: "EUR" }
        };

        // å„åœ°å€è²¨å¹£å„ªå…ˆé †åº
        const currencyPriority = {
            en: ['USD', 'EUR', 'GBP', 'JPY', 'CNY', 'KRW', 'TWD', 'CAD', 'AUD', 'CHF', 'SGD', 'HKD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'RUB', 'ZAR', 'MXN', 'CLP', 'COP', 'PEN', 'ARS', 'TRY', 'BRL', 'INR'],
            zh: ['TWD', 'USD', 'CNY', 'JPY', 'KRW', 'EUR', 'GBP', 'HKD', 'SGD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'CAD', 'AUD', 'CHF', 'RUB', 'ZAR', 'MXN', 'CLP', 'COP', 'PEN', 'ARS', 'TRY', 'BRL', 'INR'],
            ja: ['JPY', 'USD', 'EUR', 'CNY', 'KRW', 'TWD', 'GBP', 'SGD', 'HKD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'CAD', 'AUD', 'CHF', 'RUB', 'ZAR', 'MXN', 'CLP', 'COP', 'PEN', 'ARS', 'TRY', 'BRL', 'INR'],
            ko: ['KRW', 'USD', 'JPY', 'CNY', 'TWD', 'EUR', 'GBP', 'SGD', 'HKD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'CAD', 'AUD', 'CHF', 'RUB', 'ZAR', 'MXN', 'CLP', 'COP', 'PEN', 'ARS', 'TRY', 'BRL', 'INR'],
            es: ['EUR', 'USD', 'GBP', 'JPY', 'CNY', 'KRW', 'TWD', 'MXN', 'ARS', 'CLP', 'COP', 'PEN', 'BRL', 'CAD', 'AUD', 'CHF', 'SGD', 'HKD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'RUB', 'ZAR', 'TRY', 'INR'],
            fr: ['EUR', 'USD', 'GBP', 'JPY', 'CNY', 'KRW', 'TWD', 'CHF', 'CAD', 'AUD', 'SGD', 'HKD', 'THB', 'MYR', 'PHP', 'VND', 'IDR', 'RUB', 'ZAR', 'MXN', 'CLP', 'COP', 'PEN', 'ARS', 'TRY', 'BRL', 'INR']
        };

        // ç•¶å‰èªè¨€
        let currentLanguage = 'en';

        // åˆå§‹åŒ–èªè¨€
        function initLanguage() {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'en';
            changeLanguage(lang);
        }

        // åˆ‡æ›èªè¨€ä¸‹æ‹‰é¸å–®
        function toggleLanguageDropdown() {
            const dropdown = document.querySelector('.language-selector');
            dropdown.classList.toggle('show');
        }

        // æ›´æ”¹èªè¨€
        function changeLanguage(lang) {
            document.documentElement.lang = lang;
            currentLanguage = lang;
            if (!translations[lang]) return;
            const t = translations[lang];
            const config = languageConfig[lang];
            
            // æ›´æ–°å³æ™‚åŒ¯ç‡æ¨™é¡Œ
            const realTimeRatesTitle = document.querySelector('.rates-header h2');
            if (realTimeRatesTitle) realTimeRatesTitle.textContent = t.realTimeRates;
            
            // æ›´æ–°èªè¨€é¸æ“‡å™¨
            document.getElementById('current-flag').textContent = config.flag;
            document.getElementById('current-language').textContent = config.name;
            
            // æ›´æ–°é é¢æ–‡å­—
            document.querySelector('.header h1').textContent = t.title;
            document.querySelector('.header p').textContent = t.exchangeRateCalculation;
            
            // æ›´æ–°è½‰æ›å™¨å€åŸŸ
            const converterTitle = document.querySelector('.converter-title');
            if (converterTitle) converterTitle.textContent = t.converterTitle;
            
            // æ›´æ–°æ¨™ç±¤å’Œä½”ä½ç¬¦
            const amountLabels = document.querySelectorAll('label[for="amount"], label[for="amount1"]');
            amountLabels.forEach(label => label.textContent = t.amountLabel);
            
            const resultLabels = document.querySelectorAll('label[for="amount2"]');
            resultLabels.forEach(label => label.textContent = t.resultLabel);
            
            // æ›´æ–°è½‰æ›å™¨æ¨™ç±¤
            const fromLabels = document.querySelectorAll('label[for="fromCurrency"], label[for="currency1"]');
            fromLabels.forEach(label => label.textContent = t.from);
            
            const toLabels = document.querySelectorAll('label[for="toCurrency"], label[for="currency2"]');
            toLabels.forEach(label => label.textContent = t.to);
            
            // æ›´æ–°æŒ‰éˆ•æ–‡å­—
            const convertBtns = document.querySelectorAll('.convert-btn');
            convertBtns.forEach(btn => btn.textContent = t.convert);
            
            const swapBtns = document.querySelectorAll('.swap-btn');
            swapBtns.forEach(btn => {
                if (btn.textContent !== 'â‡„') {
                    btn.textContent = t.swap;
                }
            });
            
            // æ›´æ–°æœå°‹æ¡†
            const searchInput = document.getElementById('currency-search');
            if (searchInput) searchInput.placeholder = t.search;
            
            // æ›´æ–°ç‹€æ…‹å’Œæ¨™é¡Œ
            const apiStatusTitles = document.querySelectorAll('.api-status h3');
            apiStatusTitles.forEach(title => title.textContent = t.apiStatus);
            
            const lastUpdateTitles = document.querySelectorAll('.last-update h3');
            lastUpdateTitles.forEach(title => title.textContent = t.lastUpdate);
            
            const popularTitles = document.querySelectorAll('.popular-currencies h3');
            popularTitles.forEach(title => title.textContent = t.popularCurrencies);
            
            const allCurrenciesTitles = document.querySelectorAll('.all-currencies h3');
            allCurrenciesTitles.forEach(title => title.textContent = t.allCurrencies);
            
            const resultTitles = document.querySelectorAll('.result h3');
            resultTitles.forEach(title => title.textContent = t.result);
            
            // æ›´æ–°é é¢æ›´æ–°æ™‚é–“
            const updateTimeLabels = document.querySelectorAll('.update-time');
            updateTimeLabels.forEach(label => {
                if (label.textContent.includes('é é¢æ›´æ–°æ™‚é–“') || label.textContent.includes('Page Update Time')) {
                    label.textContent = `${t.pageUpdateTime}: <span id="update-time"></span>`;
                }
            });
            
            // æ›´æ–°è¼‰å…¥ä¸­æ–‡å­—
            const loadingElements = document.querySelectorAll('.rate-value, .rate-label');
            loadingElements.forEach(element => {
                if (element.textContent.includes('è¼‰å…¥ä¸­') || element.textContent.includes('Loading')) {
                    element.textContent = element.textContent.replace(/è¼‰å…¥ä¸­\.\.\.|Loading\.\.\./g, t.loading + '...');
                }
            });
            
            // æ›´æ–°è²¨å¹£é¸é …
            updateCurrencyOptions();
            
            // æ›´æ–°åŒ¯ç‡å¡ç‰‡æ¨™é¡Œ
            updateRateCardTitles();
            
            // æ›´æ–°åŒ¯ç‡å¡ç‰‡é †åº
            updateRateCardOrder();
            
            // æ›´æ–°æµ®ç©ºæŒ‰éˆ•æ–‡å­—
            const floatingBtnText = document.getElementById('floating-btn-text');
            if (floatingBtnText) {
                floatingBtnText.textContent = t.floatingConvert;
            }
            
            // æ›´æ–°æœå°‹æµ®ç©ºæŒ‰éˆ•æ–‡å­—
            const floatingSearchText = document.getElementById('floating-search-text');
            if (floatingSearchText) {
                floatingSearchText.textContent = t.floatingSearch;
            }
            
            // æ›´æ–°åˆ·æ–°æŒ‰éˆ•æ–‡å­—
            const refreshText = document.getElementById('refresh-text');
            if (refreshText && !refreshText.textContent.includes('...')) {
                refreshText.textContent = t.refreshRates;
            }
            
            // æ›´æ–°ç•¶åœ°è²¨å¹£æ¨™ç±¤
            const localCurrencyBadge = document.querySelector('.local-currency-badge');
            if (localCurrencyBadge) {
                localCurrencyBadge.textContent = t.localCurrency;
            }
            
            // æ›´æ–°URLåƒæ•¸
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.replaceState({}, '', url);
            
            // é—œé–‰ä¸‹æ‹‰é¸å–®
            const dropdown = document.querySelector('.language-selector');
            if (dropdown) dropdown.classList.remove('show');
            
            // æ›´æ–°é¸é …çš„activeç‹€æ…‹
            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.closest('.language-option').classList.add('active');

            // èªè¨€åˆ‡æ›å¾Œå³æ™‚æ›´æ–°è²¨å¹£è½‰æ›çµæœ
            convert();

            // èªè¨€åˆ‡æ›å¾Œå³æ™‚æ›´æ–°æ‰€æœ‰åŒ¯ç‡å¡ç‰‡å…§å®¹
            if (typeof rates === 'object') {
                Object.keys(rates).forEach(currency => {
                    updateRateDisplay(currency, rates[currency]);
                });
            }
            
            // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
            const statusIndicator = document.getElementById('api-status');
            if (statusIndicator) {
                if (statusIndicator.classList.contains('online')) {
                    updateStatus('online', '');
                } else if (statusIndicator.classList.contains('loading')) {
                    updateStatus('loading', '');
                } else if (statusIndicator.classList.contains('offline')) {
                    updateStatus('offline', '');
                }
            }

            // åœ¨translationsæ¯å€‹èªè¨€åŠ ä¸ŠcopyResultBtn: "è¤‡è£½çµæœ"/"Copy Result"ç­‰
            // ...ï¼ˆç•¥ï¼Œå‡è¨­å·²åŠ å¥½ï¼‰...

            // åœ¨changeLanguageå‡½æ•¸å…§åŠ ï¼š
            const copyBtn = document.getElementById('copy-result-btn');
            if (copyBtn) copyBtn.textContent = t.copyResultBtn || 'è¤‡è£½çµæœ';

            // åœ¨è¤‡è£½æˆåŠŸæ™‚ä¹Ÿç”¨t.copyResultBtn
            document.getElementById('copy-result-btn').onclick = function() {
                const value = document.getElementById('result-value').textContent;
                const label = document.getElementById('result-label').textContent;
                navigator.clipboard.writeText(`${label}: ${value}`);
                this.textContent = t.copied || 'å·²è¤‡è£½';
                setTimeout(()=>{ this.textContent = t.copyResultBtn || 'è¤‡è£½çµæœ'; }, 1500);
            };

            // åœ¨changeLanguageå‡½æ•¸å…§åŠ ï¼š
            const quickBtns = document.querySelectorAll('.quick-currency-select .quick-btn');
            if (quickBtns && t.quickCurrencies) {
                quickBtns.forEach((btn, idx) => {
                    btn.textContent = t.quickCurrencies[idx] || btn.textContent;
                });
            }

            // å‹•æ…‹æ¸²æŸ“å¸¸ç”¨è²¨å¹£æŒ‰éˆ•
            renderQuickCurrencyButtons(lang);

            // æ›´æ–°åŒ¯ç‡é€šçŸ¥è¨‚é–±åŠŸèƒ½æ–‡å­—
            updateNotificationTexts(lang);

            // åœ¨changeLanguageå‡½æ•¸å…§åŠ ï¼š
            const floatingEmailText = document.getElementById('floating-email-text');
            if (floatingEmailText) floatingEmailText.textContent = t.floatingEmailBtn || 'æ¯æ—¥åŒ¯ç‡é€šçŸ¥';
        }

        // æ›´æ–°è²¨å¹£é¸é …
        function updateCurrencyOptions() {
            const allCurrencies = [
                { code: 'USD', flag: 'ğŸ‡ºğŸ‡¸' },
                { code: 'EUR', flag: 'ğŸ‡ªğŸ‡º' },
                { code: 'JPY', flag: 'ğŸ‡¯ğŸ‡µ' },
                { code: 'CNY', flag: 'ğŸ‡¨ğŸ‡³' },
                { code: 'KRW', flag: 'ğŸ‡°ğŸ‡·' },
                { code: 'TWD', flag: 'ğŸ‡¹ğŸ‡¼' },
                { code: 'GBP', flag: 'ğŸ‡¬ğŸ‡§' },
                { code: 'CAD', flag: 'ğŸ‡¨ğŸ‡¦' },
                { code: 'AUD', flag: 'ğŸ‡¦ğŸ‡º' },
                { code: 'CHF', flag: 'ğŸ‡¨ğŸ‡­' },
                { code: 'SGD', flag: 'ğŸ‡¸ğŸ‡¬' },
                { code: 'HKD', flag: 'ğŸ‡­ğŸ‡°' },
                { code: 'THB', flag: 'ğŸ‡¹ğŸ‡­' },
                { code: 'MYR', flag: 'ğŸ‡²ğŸ‡¾' },
                { code: 'PHP', flag: 'ğŸ‡µğŸ‡­' },
                { code: 'VND', flag: 'ğŸ‡»ğŸ‡³' },
                { code: 'IDR', flag: 'ğŸ‡®ğŸ‡©' },
                { code: 'RUB', flag: 'ğŸ‡·ğŸ‡º' },
                { code: 'ZAR', flag: 'ğŸ‡¿ğŸ‡¦' },
                { code: 'MXN', flag: 'ğŸ‡²ğŸ‡½' },
                { code: 'CLP', flag: 'ğŸ‡¨ğŸ‡±' },
                { code: 'COP', flag: 'ğŸ‡¨ğŸ‡´' },
                { code: 'PEN', flag: 'ğŸ‡µğŸ‡ª' },
                { code: 'ARS', flag: 'ğŸ‡¦ğŸ‡·' },
                { code: 'TRY', flag: 'ğŸ‡¹ğŸ‡·' },
                { code: 'BRL', flag: 'ğŸ‡§ğŸ‡·' },
                { code: 'INR', flag: 'ğŸ‡®ğŸ‡³' }
            ];

            // æ ¹æ“šç•¶å‰èªè¨€æ’åºè²¨å¹£
            const priority = currencyPriority[currentLanguage] || currencyPriority.en;
            const sortedCurrencies = [...allCurrencies].sort((a, b) => {
                const aIndex = priority.indexOf(a.code);
                const bIndex = priority.indexOf(b.code);
                return aIndex - bIndex;
            });

            const selectElements = document.querySelectorAll('#fromCurrency, #toCurrency, #currency1, #currency2');
            
            selectElements.forEach(select => {
                const currentValue = select.value;
                select.innerHTML = '';
                
                sortedCurrencies.forEach(currency => {
                    const option = document.createElement('option');
                    option.value = currency.code;
                    const currencyName = currencyNames[currentLanguage]?.[currency.code] || currency.code;
                    option.textContent = `${currency.flag} ${currencyName} (${currency.code})`;
                    select.appendChild(option);
                });
                
                // æ¢å¾©ä¹‹å‰é¸æ“‡çš„å€¼ï¼Œå¦‚æœæ²’æœ‰å‰‡ä½¿ç”¨é è¨­è²¨å¹£
                if (currentValue && sortedCurrencies.some(c => c.code === currentValue)) {
                    select.value = currentValue;
                } else {
                    const config = languageConfig[currentLanguage];
                    select.value = config.defaultCurrency;
                }
            });
        }

        // æ›´æ–°åŒ¯ç‡å¡ç‰‡æ¨™é¡Œ
        function updateRateCardTitles() {
            const rateCards = document.querySelectorAll('.rate-card h3');
            
            rateCards.forEach(card => {
                const currencyCode = card.textContent.match(/\(([A-Z]{3})\)/)?.[1];
                if (currencyCode && currencyNames[currentLanguage]?.[currencyCode]) {
                    const flag = card.textContent.match(/^[^\s]+/)?.[0] || 'ğŸŒ';
                    const currencyName = currencyNames[currentLanguage][currencyCode];
                    card.textContent = `${flag} ${currencyName} (${currencyCode})`;
                }
            });
        }

        // æ›´æ–°åŒ¯ç‡å¡ç‰‡é †åº
        function updateRateCardOrder() {
            const ratesGrid = document.querySelector('.rates-grid');
            if (!ratesGrid) return;

            const priority = currencyPriority[currentLanguage] || currencyPriority.en;
            const rateCards = Array.from(ratesGrid.querySelectorAll('.rate-card'));
            
            // æ ¹æ“šå„ªå…ˆé †åºæ’åºå¡ç‰‡
            rateCards.sort((a, b) => {
                const aCurrency = a.getAttribute('data-currency');
                const bCurrency = b.getAttribute('data-currency');
                const aIndex = priority.indexOf(aCurrency);
                const bIndex = priority.indexOf(bCurrency);
                return aIndex - bIndex;
            });

            // é‡æ–°æ’åˆ—å¡ç‰‡
            rateCards.forEach(card => {
                ratesGrid.appendChild(card);
            });
        }

        // é»æ“Šå¤–éƒ¨é—œé–‰èªè¨€ä¸‹æ‹‰é¸å–®
        document.addEventListener('click', function(event) {
            const languageSelector = document.querySelector('.language-selector');
            if (!languageSelector.contains(event.target)) {
                document.querySelector('.language-selector').classList.remove('show');
            }
        });

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–èªè¨€
        document.addEventListener('DOMContentLoaded', function() {
            let browserLang = navigator.language || navigator.userLanguage || 'en';
            let lang = 'en';
            if (browserLang.startsWith('zh')) lang = 'zh';
            changeLanguage(lang);
        });

        // æœ¬åœ°åŒ–æ•¸å­—æ ¼å¼
        function formatNumber(number, locale = 'en-US') {
            const locales = {
                'en': 'en-US',
                'zh': 'zh-TW',
                'ja': 'ja-JP',
                'ko': 'ko-KR',
                'es': 'es-ES',
                'fr': 'fr-FR'
            };
            
            const currentLocale = locales[currentLanguage] || 'en-US';
            
            return new Intl.NumberFormat(currentLocale, {
                minimumFractionDigits: 2,
                maximumFractionDigits: 6
            }).format(number);
        }

        // æœ¬åœ°åŒ–æ—¥æœŸæ™‚é–“æ ¼å¼
        function formatDateTime(date, locale = 'en-US') {
            const locales = {
                'en': 'en-US',
                'zh': 'zh-TW',
                'ja': 'ja-JP',
                'ko': 'ko-KR',
                'es': 'es-ES',
                'fr': 'fr-FR'
            };
            
            const currentLocale = locales[currentLanguage] || 'en-US';
            
            return new Intl.DateTimeFormat(currentLocale, {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZoneName: 'short'
            }).format(date);
        }

        // è²¨å¹£æœ¬åœ°åŒ–é¡¯ç¤º
        function formatCurrency(amount, currencyCode) {
            const locales = {
                'en': 'en-US',
                'zh': 'zh-TW',
                'ja': 'ja-JP',
                'ko': 'ko-KR',
                'es': 'es-ES',
                'fr': 'fr-FR'
            };
            
            const currentLocale = locales[currentLanguage] || 'en-US';
            
            return new Intl.NumberFormat(currentLocale, {
                style: 'currency',
                currency: currencyCode,
                minimumFractionDigits: 2,
                maximumFractionDigits: 6
            }).format(amount);
        }

        // å‰µå»ºç²’å­å‹•ç•«
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // éš¨æ©Ÿå¤§å°
                const size = Math.random() * 4 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // éš¨æ©Ÿä½ç½®
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                
                // éš¨æ©Ÿå‹•ç•«å»¶é²
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                
                particlesContainer.appendChild(particle);
            }
        }

        // åŒ¯ç‡è³‡æ–™ (æœƒå¾APIæ›´æ–°)
        let rates = {
            TWD: 1,
            USD: 31.25,
            EUR: 34.50,
            GBP: 40.20,
            JPY: 0.21,
            CNY: 4.35,
            KRW: 0.024,
            CAD: 23.50,
            AUD: 20.80,
            CHF: 35.20,
            SGD: 23.10,
            HKD: 4.00,
            THB: 0.88,
            MYR: 6.70,
            PHP: 0.56,
            VND: 0.0013,
            IDR: 0.0020,
            RUB: 0.34,
            ZAR: 1.70,
            MXN: 1.85,
            CLP: 0.035,
            COP: 0.008,
            PEN: 8.40,
            ARS: 0.035,
            TRY: 1.05,
            BRL: 6.50,
            INR: 0.38
        };

        // å‰ä¸€æ¬¡åŒ¯ç‡ (ç”¨æ–¼æ¯”è¼ƒè®ŠåŒ–)
        let previousRates = {};

        // è²¨å¹£ç¬¦è™Ÿ
        const symbols = {
            TWD: 'NT$',
            USD: '$',
            EUR: 'â‚¬',
            GBP: 'Â£',
            JPY: 'Â¥',
            CNY: 'Â¥',
            KRW: 'â‚©',
            CAD: 'C$',
            AUD: 'A$',
            CHF: 'CHF',
            SGD: 'S$',
            HKD: 'HK$',
            THB: 'à¸¿',
            MYR: 'RM',
            PHP: 'â‚±',
            VND: 'â‚«',
            IDR: 'Rp',
            RUB: 'â‚½',
            ZAR: 'R',
            MXN: '$',
            CLP: '$',
            COP: '$',
            PEN: 'S/',
            ARS: 'AR$',
            TRY: 'â‚º',
            BRL: 'R$',
            INR: 'â‚¹'
        };

        // è²¨å¹£åç¨±
        const names = {
            TWD: 'å°å¹£',
            USD: 'ç¾å…ƒ',
            EUR: 'æ­å…ƒ',
            GBP: 'è‹±éŠ',
            JPY: 'æ—¥åœ“',
            CNY: 'äººæ°‘å¹£',
            KRW: 'éŸ“å…ƒ',
            CAD: 'åŠ æ‹¿å¤§å…ƒ',
            AUD: 'æ¾³æ´²å…ƒ',
            CHF: 'ç‘å£«æ³•éƒ',
            SGD: 'æ–°åŠ å¡å…ƒ',
            HKD: 'æ¸¯å¹£',
            THB: 'æ³°éŠ–',
            MYR: 'é¦¬ä¾†è¥¿äºä»¤å‰',
            PHP: 'è²å¾‹è³“æŠ«ç´¢',
            VND: 'è¶Šå—ç›¾',
            IDR: 'å°å°¼ç›¾',
            RUB: 'ä¿„ç¾…æ–¯ç›§å¸ƒ',
            ZAR: 'å—éè˜­ç‰¹',
            MXN: 'å¢¨è¥¿å“¥æŠ«ç´¢',
            CLP: 'æ™ºåˆ©æŠ«ç´¢',
            COP: 'å“¥å€«æ¯”äºæŠ«ç´¢',
            PEN: 'ç§˜é­¯ç´¢çˆ¾',
            ARS: 'é˜¿æ ¹å»·æŠ«ç´¢',
            TRY: 'åœŸè€³å…¶é‡Œæ‹‰',
            BRL: 'å·´è¥¿é›·äºçˆ¾',
            INR: 'å°åº¦ç›§æ¯”'
        };

        // åœ‹å®¶æœå°‹è©å½™
        const countryKeywords = {
            TWD: ['å°ç£', 'ä¸­è¯æ°‘åœ‹', 'å°å¹£', 'æ–°å°å¹£', 'taiwan', 'taiwanese dollar', 'ntd'],
            USD: ['ç¾åœ‹', 'ç¾åˆ©å …', 'ç¾é‡‘', 'ç¾å…ƒ', 'united states', 'usa', 'us dollar', 'american dollar'],
            EUR: ['æ­ç›Ÿ', 'æ­æ´²', 'æ­å…ƒå€', 'æ­å…ƒ', 'european union', 'europe', 'eurozone', 'euro'],
            GBP: ['è‹±åœ‹', 'å¤§ä¸åˆ—é¡›', 'è‹±æ ¼è˜­', 'è‹±éŠ', 'united kingdom', 'uk', 'great britain', 'england', 'pound sterling'],
            JPY: ['æ—¥æœ¬', 'æ—¥åœ“', 'æ—¥å…ƒ', 'æ—¥å¹£', 'japan', 'japanese yen', 'yen'],
            CNY: ['ä¸­åœ‹', 'ä¸­è¯äººæ°‘å…±å’Œåœ‹', 'äººæ°‘å¹£', 'äººæ°‘å¹£', 'china', 'chinese yuan', 'yuan', 'rmb'],
            KRW: ['éŸ“åœ‹', 'å¤§éŸ“æ°‘åœ‹', 'éŸ“å…ƒ', 'éŸ“å¹£', 'korea', 'south korea', 'korean won', 'won'],
            CAD: ['åŠ æ‹¿å¤§', 'åŠ æ‹¿å¤§å…ƒ', 'åŠ å…ƒ', 'canada', 'canadian dollar', 'loonie'],
            AUD: ['æ¾³æ´²', 'æ¾³å¤§åˆ©äº', 'æ¾³æ´²å…ƒ', 'æ¾³å…ƒ', 'australia', 'australian dollar', 'aussie'],
            CHF: ['ç‘å£«', 'ç‘å£«æ³•éƒ', 'æ³•éƒ', 'switzerland', 'swiss franc', 'franc'],
            SGD: ['æ–°åŠ å¡', 'æ–°åŠ å¡å…ƒ', 'æ–°å…ƒ', 'singapore', 'singapore dollar'],
            HKD: ['é¦™æ¸¯', 'æ¸¯å¹£', 'æ¸¯å…ƒ', 'hong kong', 'hong kong dollar'],
            THB: ['æ³°åœ‹', 'æ³°éŠ–', 'æ³°å¹£', 'thailand', 'thai baht', 'baht'],
            MYR: ['é¦¬ä¾†è¥¿äº', 'é¦¬ä¾†è¥¿äºä»¤å‰', 'ä»¤å‰', 'malaysia', 'malaysian ringgit', 'ringgit'],
            PHP: ['è²å¾‹è³“', 'è²å¾‹è³“æŠ«ç´¢', 'è²å¹£', 'philippines', 'philippine peso', 'peso'],
            VND: ['è¶Šå—', 'è¶Šå—ç›¾', 'è¶Šå¹£', 'vietnam', 'vietnamese dong', 'dong'],
            IDR: ['å°å°¼', 'å°åº¦å°¼è¥¿äº', 'å°å°¼ç›¾', 'å°å°¼å¹£', 'indonesia', 'indonesian rupiah', 'rupiah'],
            RUB: ['ä¿„ç¾…æ–¯', 'ä¿„ç¾…æ–¯ç›§å¸ƒ', 'ç›§å¸ƒ', 'russia', 'russian ruble', 'ruble'],
            ZAR: ['å—é', 'å—éè˜­ç‰¹', 'è˜­ç‰¹', 'south africa', 'south african rand', 'rand'],
            MXN: ['å¢¨è¥¿å“¥', 'å¢¨è¥¿å“¥æŠ«ç´¢', 'å¢¨å¹£', 'mexico', 'mexican peso', 'peso'],
            CLP: ['æ™ºåˆ©', 'æ™ºåˆ©æŠ«ç´¢', 'æ™ºå¹£', 'chile', 'chilean peso', 'peso'],
            COP: ['å“¥å€«æ¯”äº', 'å“¥å€«æ¯”äºæŠ«ç´¢', 'å“¥å¹£', 'colombia', 'colombian peso', 'peso'],
            PEN: ['ç§˜é­¯', 'ç§˜é­¯ç´¢çˆ¾', 'ç§˜å¹£', 'peru', 'peruvian sol', 'sol'],
            ARS: ['é˜¿æ ¹å»·', 'é˜¿æ ¹å»·æŠ«ç´¢', 'æŠ«ç´¢', 'argentina', 'argentine peso', 'peso'],
            TRY: ['åœŸè€³å…¶', 'åœŸè€³å…¶é‡Œæ‹‰', 'é‡Œæ‹‰', 'turkey', 'turkish lira', 'lira'],
            BRL: ['å·´è¥¿', 'å·´è¥¿é›·äºçˆ¾', 'é›·äºçˆ¾', 'brazil', 'brazilian real', 'real'],
            INR: ['å°åº¦', 'å°åº¦ç›§æ¯”', 'ç›§æ¯”', 'india', 'indian rupee', 'rupee']
        };

        // åœ‹æ—— emoji å°æ‡‰è¡¨
        const currencyFlags = {
            TWD: 'ğŸ‡¹ğŸ‡¼',
            USD: 'ğŸ‡ºğŸ‡¸',
            EUR: 'ğŸ‡ªğŸ‡º',
            GBP: 'ğŸ‡¬ğŸ‡§',
            JPY: 'ğŸ‡¯ğŸ‡µ',
            CNY: 'ğŸ‡¨ğŸ‡³',
            KRW: 'ğŸ‡°ğŸ‡·',
            ARS: 'ğŸ‡¦ğŸ‡·',
            TRY: 'ğŸ‡¹ğŸ‡·',
            BRL: 'ğŸ‡§ğŸ‡·',
            INR: 'ğŸ‡®ğŸ‡³',
            CAD: 'ğŸ‡¨ğŸ‡¦',
            AUD: 'ğŸ‡¦ğŸ‡º',
            CHF: 'ğŸ‡¨ğŸ‡­',
            SGD: 'ğŸ‡¸ğŸ‡¬',
            HKD: 'ğŸ‡­ğŸ‡°',
            THB: 'ğŸ‡¹ğŸ‡­',
            MYR: 'ğŸ‡²ğŸ‡¾',
            PHP: 'ğŸ‡µğŸ‡­',
            VND: 'ğŸ‡»ğŸ‡³',
            IDR: 'ğŸ‡®ğŸ‡©',
            RUB: 'ğŸ‡·ğŸ‡º',
            ZAR: 'ğŸ‡¿ğŸ‡¦',
            MXN: 'ğŸ‡²ğŸ‡½',
            CLP: 'ğŸ‡¨ğŸ‡±',
            COP: 'ğŸ‡¨ğŸ‡´',
            PEN: 'ğŸ‡µğŸ‡ª'
        };

        // å‹•æ…‹ç”Ÿæˆ select é¸å–®ï¼ˆå«åœ‹æ——ï¼‰
        function renderCurrencySelect(selectId, selectedValue) {
            const select = document.getElementById(selectId);
            if (!select) return;
            const options = [
                { code: 'TWD', name: 'å°å¹£ (TWD)' },
                { code: 'USD', name: 'ç¾å…ƒ (USD)' },
                { code: 'EUR', name: 'æ­å…ƒ (EUR)' },
                { code: 'GBP', name: 'è‹±éŠ (GBP)' },
                { code: 'JPY', name: 'æ—¥åœ“ (JPY)' },
                { code: 'CNY', name: 'äººæ°‘å¹£ (CNY)' },
                { code: 'KRW', name: 'éŸ“å…ƒ (KRW)' },
                { code: 'CAD', name: 'åŠ æ‹¿å¤§å…ƒ (CAD)' },
                { code: 'AUD', name: 'æ¾³æ´²å…ƒ (AUD)' },
                { code: 'CHF', name: 'ç‘å£«æ³•éƒ (CHF)' },
                { code: 'SGD', name: 'æ–°åŠ å¡å…ƒ (SGD)' },
                { code: 'HKD', name: 'æ¸¯å¹£ (HKD)' },
                { code: 'THB', name: 'æ³°éŠ– (THB)' },
                { code: 'MYR', name: 'é¦¬ä¾†è¥¿äºä»¤å‰ (MYR)' },
                { code: 'PHP', name: 'è²å¾‹è³“æŠ«ç´¢ (PHP)' },
                { code: 'VND', name: 'è¶Šå—ç›¾ (VND)' },
                { code: 'IDR', name: 'å°å°¼ç›¾ (IDR)' },
                { code: 'RUB', name: 'ä¿„ç¾…æ–¯ç›§å¸ƒ (RUB)' },
                { code: 'ZAR', name: 'å—éè˜­ç‰¹ (ZAR)' },
                { code: 'MXN', name: 'å¢¨è¥¿å“¥æŠ«ç´¢ (MXN)' },
                { code: 'CLP', name: 'æ™ºåˆ©æŠ«ç´¢ (CLP)' },
                { code: 'COP', name: 'å“¥å€«æ¯”äºæŠ«ç´¢ (COP)' },
                { code: 'PEN', name: 'ç§˜é­¯ç´¢çˆ¾ (PEN)' },
                { code: 'ARS', name: 'é˜¿æ ¹å»·æŠ«ç´¢ (ARS)' },
                { code: 'TRY', name: 'åœŸè€³å…¶é‡Œæ‹‰ (TRY)' },
                { code: 'BRL', name: 'å·´è¥¿é›·äºçˆ¾ (BRL)' },
                { code: 'INR', name: 'å°åº¦ç›§æ¯” (INR)' }
            ];
            select.innerHTML = options.map(opt =>
                `<option value="${opt.code}"${selectedValue===opt.code? ' selected' : ''}>
                    ${currencyFlags[opt.code] || ''} ${opt.name}
                </option>`
            ).join('');
        }

        // åˆå§‹åŒ– select
        document.addEventListener('DOMContentLoaded', function() {
            renderCurrencySelect('currency1', document.getElementById('currency1')?.value || 'TWD');
            renderCurrencySelect('currency2', document.getElementById('currency2')?.value || 'USD');
            updateFlag('currency1', 'flag1');
            updateFlag('currency2', 'flag2');
        });

        // æ›´æ–°ç‹€æ…‹æŒ‡ç¤ºå™¨
        function updateStatus(status, message) {
            const statusIndicator = document.getElementById('api-status');
            const statusText = document.getElementById('api-status-text');
            
            // ç§»é™¤æ‰€æœ‰ç‹€æ…‹é¡åˆ¥
            statusIndicator.classList.remove('online', 'offline', 'loading');
            
            // æ·»åŠ æ–°ç‹€æ…‹é¡åˆ¥
            statusIndicator.classList.add(status);
            
            // æ ¹æ“šç•¶å‰èªè¨€æ›´æ–°ç‹€æ…‹æ–‡å­—
            const currentLang = document.documentElement.lang || currentLanguage || 'zh';
            const t = translations[currentLang] || translations.zh;
            let displayText = message;
            
            if (status === 'loading') {
                displayText = t.connectingRates || 'é€£æ¥æœ€æ–°åŒ¯ç‡ä¸­...';
            } else if (status === 'online') {
                displayText = t.connectedToRates || 'å·²é€£æ¥æœ€æ–°åŒ¯ç‡';
            } else if (status === 'offline') {
                displayText = t.cannotConnectRates || 'ç„¡æ³•é€£æ¥æœ€æ–°åŒ¯ç‡';
            }
            
            statusText.textContent = displayText;
        }

        // é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
        function showError(message) {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 5000);
        }

        // éš±è—éŒ¯èª¤è¨Šæ¯
        function hideError() {
            document.getElementById('error-message').style.display = 'none';
        }

        // æ›´æ–°åŒ¯ç‡é¡¯ç¤º
        function updateRateDisplay(currency, rate) {
            const rateElement = document.getElementById(`${currency.toLowerCase()}-rate`);
            const labelElement = document.getElementById(`${currency.toLowerCase()}-label`);
            const changeElement = document.getElementById(`${currency.toLowerCase()}-change`);
            const currentLang = document.documentElement.lang || currentLanguage || 'zh';
            const currencyNames = getCurrencyNames(currentLang);

            // æ ¹æ“šèªè¨€æ±ºå®šç›®æ¨™è²¨å¹£
            let targetCurrency = 'USD';
            if (currentLang === 'zh') targetCurrency = 'TWD';
            if (currentLang === 'ja') targetCurrency = 'JPY';
            if (currentLang === 'ko') targetCurrency = 'KRW';
            if (currentLang === 'fr' || currentLang === 'es') targetCurrency = 'EUR';

            if (rateElement && labelElement) {
                if (currency === targetCurrency) {
                    // è‡ªå·±å°è‡ªå·±é¡¯ç¤º 1
                    rateElement.textContent = '1.0000';
                    labelElement.textContent = `1 ${currencyNames[currency] || currency} = 1.0000 ${currencyNames[targetCurrency] || targetCurrency}`;
                } else {
                    // å…¶ä»–è²¨å¹£é¡¯ç¤ºå°ç›®æ¨™è²¨å¹£çš„åŒ¯ç‡
                    const toTarget = rates[targetCurrency] ? (rates[currency] / rates[targetCurrency]) : rate;
                    rateElement.textContent = toTarget.toFixed(4);
                    labelElement.textContent = `1 ${currencyNames[currency] || currency} = ${toTarget.toFixed(4)} ${currencyNames[targetCurrency] || targetCurrency}`;
                }
                // é¡¯ç¤ºåŒ¯ç‡è®ŠåŒ–
                if (previousRates[currency] && previousRates[currency] !== rate) {
                    const change = rate - previousRates[currency];
                    const changePercent = (change / previousRates[currency]) * 100;
                    changeElement.textContent = `${change >= 0 ? '+' : ''}${changePercent.toFixed(2)}%`;
                    changeElement.className = `rate-change ${change >= 0 ? 'positive' : 'negative'}`;
                } else {
                    changeElement.textContent = '';
                    changeElement.className = 'rate-change';
                }
            }
        }

        // å¾APIç²å–æœ€æ–°åŒ¯ç‡
        async function fetchLatestRates() {
            const refreshBtn = document.getElementById('refresh-btn');
            const refreshIcon = document.getElementById('refresh-icon');
            const refreshText = document.getElementById('refresh-text');
            
            // ç¦ç”¨æŒ‰éˆ•ä¸¦é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            refreshBtn.disabled = true;
            refreshIcon.textContent = 'â³';
            refreshText.textContent = 'æ›´æ–°ä¸­...';
            updateStatus('loading', 'é€£æ¥æœ€æ–°åŒ¯ç‡ä¸­...');
            hideError();

            try {
                // ä½¿ç”¨å…è²»çš„åŒ¯ç‡API (ä¸éœ€è¦API key)
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/TWD');
                
                if (!response.ok) {
                    throw new Error('ç„¡æ³•é€£æ¥åˆ°åŒ¯ç‡æœå‹™');
                }

                const data = await response.json();
                
                // å„²å­˜å‰ä¸€æ¬¡åŒ¯ç‡
                previousRates = { ...rates };
                
                // æ›´æ–°åŒ¯ç‡ (è½‰æ›ç‚ºå°å°å¹£çš„åŒ¯ç‡)
                const baseRate = data.rates.TWD;
                rates = {
                    TWD: 1,
                    USD: 1 / data.rates.USD,
                    EUR: 1 / data.rates.EUR,
                    GBP: 1 / data.rates.GBP,
                    JPY: 1 / data.rates.JPY,
                    CNY: 1 / data.rates.CNY,
                    KRW: 1 / data.rates.KRW,
                    CAD: 1 / data.rates.CAD,
                    AUD: 1 / data.rates.AUD,
                    CHF: 1 / data.rates.CHF,
                    SGD: 1 / data.rates.SGD,
                    HKD: 1 / data.rates.HKD,
                    THB: 1 / data.rates.THB,
                    MYR: 1 / data.rates.MYR,
                    PHP: 1 / data.rates.PHP,
                    VND: 1 / data.rates.VND,
                    IDR: 1 / data.rates.IDR,
                    RUB: 1 / data.rates.RUB,
                    ZAR: 1 / data.rates.ZAR,
                    MXN: 1 / data.rates.MXN,
                    CLP: 1 / data.rates.CLP,
                    COP: 1 / data.rates.COP,
                    PEN: 1 / data.rates.PEN,
                    ARS: 1 / data.rates.ARS,
                    TRY: 1 / data.rates.TRY,
                    BRL: 1 / data.rates.BRL,
                    INR: 1 / data.rates.INR
                };

                // æ›´æ–°é¡¯ç¤º
                updateRateDisplay('USD', rates.USD);
                updateRateDisplay('TWD', 1); // å°å¹£å°å°å¹£åŒ¯ç‡ç‚º1
                updateRateDisplay('EUR', rates.EUR);
                updateRateDisplay('GBP', rates.GBP);
                updateRateDisplay('JPY', rates.JPY);
                updateRateDisplay('CNY', rates.CNY);
                updateRateDisplay('KRW', rates.KRW);
                updateRateDisplay('CAD', rates.CAD);
                updateRateDisplay('AUD', rates.AUD);
                updateRateDisplay('CHF', rates.CHF);
                updateRateDisplay('SGD', rates.SGD);
                updateRateDisplay('HKD', rates.HKD);
                updateRateDisplay('THB', rates.THB);
                updateRateDisplay('MYR', rates.MYR);
                updateRateDisplay('PHP', rates.PHP);
                updateRateDisplay('VND', rates.VND);
                updateRateDisplay('IDR', rates.IDR);
                updateRateDisplay('RUB', rates.RUB);
                updateRateDisplay('ZAR', rates.ZAR);
                updateRateDisplay('MXN', rates.MXN);
                updateRateDisplay('CLP', rates.CLP);
                updateRateDisplay('COP', rates.COP);
                updateRateDisplay('PEN', rates.PEN);
                updateRateDisplay('ARS', rates.ARS);
                updateRateDisplay('TRY', rates.TRY);
                updateRateDisplay('BRL', rates.BRL);
                updateRateDisplay('INR', rates.INR);

                // æ›´æ–°ç‹€æ…‹
                updateStatus('online', 'å·²é€£æ¥æœ€æ–°åŒ¯ç‡');
                document.getElementById('last-update').textContent = new Date().toLocaleString('zh-TW');

            } catch (error) {
                console.error('ç²å–åŒ¯ç‡å¤±æ•—:', error);
                updateStatus('offline', 'ç„¡æ³•é€£æ¥æœ€æ–°åŒ¯ç‡');
                showError('ç„¡æ³•ç²å–æœ€æ–°åŒ¯ç‡ï¼Œä½¿ç”¨é è¨­åŒ¯ç‡');
                
                // ä½¿ç”¨é è¨­åŒ¯ç‡
                rates = {
                    TWD: 1,
                    USD: 31.25,
                    EUR: 34.50,
                    GBP: 40.20,
                    JPY: 0.21,
                    CNY: 4.35,
                    KRW: 0.024,
                    CAD: 23.50,
                    AUD: 20.80,
                    CHF: 35.20,
                    SGD: 23.10,
                    HKD: 4.00,
                    THB: 0.88,
                    MYR: 6.70,
                    PHP: 0.56,
                    VND: 0.0013,
                    IDR: 0.0020,
                    RUB: 0.34,
                    ZAR: 1.70,
                    MXN: 1.85,
                    CLP: 0.035,
                    COP: 0.008,
                    PEN: 8.40,
                    ARS: 0.035,
                    TRY: 1.05,
                    BRL: 6.50,
                    INR: 0.38
                };
            } finally {
                // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
                refreshBtn.disabled = false;
                refreshIcon.textContent = 'ğŸ”„';
                refreshText.textContent = 'æ›´æ–°åŒ¯ç‡';
            }
        }

        // è½‰æ›å‡½æ•¸
        function convert() {
            const amount1 = parseFloat(document.getElementById('amount1').value) || 0;
            const currency1 = document.getElementById('currency1').value;
            const currency2 = document.getElementById('currency2').value;
            
            if (amount1 === 0) {
                document.getElementById('amount2').value = '';
                document.getElementById('result').classList.remove('show');
                return;
            }

            // å…ˆè½‰æ›ç‚ºå°å¹£ï¼Œå†è½‰æ›ç‚ºç›®æ¨™è²¨å¹£
            const twdAmount = amount1 * rates[currency1];
            const result = twdAmount / rates[currency2];
            
            document.getElementById('amount2').value = result.toFixed(2);
            
            // é¡¯ç¤ºçµæœ
            const resultElement = document.getElementById('result');
            const resultValue = document.getElementById('result-value');
            const resultLabel = document.getElementById('result-label');
            
            resultValue.textContent = `${symbols[currency2]}${result.toFixed(2)}`;
            
            // ä½¿ç”¨ç¿»è­¯ç³»çµ±é¡¯ç¤ºçµæœæ¨™ç±¤
            const currentLang = document.documentElement.lang || 'zh';
            const t = translations[currentLang] || translations.zh;
            
            // ç²å–ç•¶å‰èªè¨€çš„è²¨å¹£åç¨±
            const currencyNames = getCurrencyNames(currentLang);
            const name1 = currencyNames[currency1] || names[currency1];
            const name2 = currencyNames[currency2] || names[currency2];
            
            resultLabel.textContent = `${amount1} ${name1} = ${result.toFixed(2)} ${name2}`;
            resultElement.classList.add('show');
        }

        // äº¤æ›è²¨å¹£
        function swapCurrencies() {
            const currency1 = document.getElementById('currency1');
            const currency2 = document.getElementById('currency2');
            const amount1 = document.getElementById('amount1');
            const amount2 = document.getElementById('amount2');
            
            // äº¤æ›è²¨å¹£é¸æ“‡
            const temp = currency1.value;
            currency1.value = currency2.value;
            currency2.value = temp;
            
            // äº¤æ›é‡‘é¡
            const tempAmount = amount1.value;
            amount1.value = amount2.value;
            amount2.value = tempAmount;
            
            // æ›´æ–°åœ‹æ——é¡¯ç¤º
            updateFlag('currency1', 'flag1');
            updateFlag('currency2', 'flag2');
            
            // é‡æ–°è¨ˆç®—
            convert();
        }

        // è¼¸å…¥é‡‘é¡æ™‚è‡ªå‹•è½‰æ›
        document.getElementById('amount1').addEventListener('input', convert);

        // æ›´æ–°æ™‚é–“
        function updateTime() {
            const now = new Date();
            const lang = document.documentElement.lang || currentLanguage || 'zh';
            const t = translations[lang] || translations.zh;

            // æ‰‹å‹•çµ„åˆ 24 å°æ™‚åˆ¶
            const yyyy = now.getFullYear();
            const mm = String(now.getMonth() + 1).padStart(2, '0');
            const dd = String(now.getDate()).padStart(2, '0');
            const hh = String(now.getHours()).padStart(2, '0');
            const min = String(now.getMinutes()).padStart(2, '0');
            const ss = String(now.getSeconds()).padStart(2, '0');

            // æ ¹æ“šèªè¨€çµ„åˆæ—¥æœŸæ ¼å¼
            let dateString;
            if (lang === 'en') {
                dateString = `${yyyy}/${mm}/${dd} ${hh}:${min}:${ss}`;
            } else if (lang === 'ja' || lang === 'ko' || lang === 'zh') {
                dateString = `${yyyy}/${mm}/${dd} ${hh}:${min}:${ss}`;
            } else if (lang === 'fr' || lang === 'es') {
                dateString = `${dd}/${mm}/${yyyy} ${hh}:${min}:${ss}`;
            } else {
                dateString = `${yyyy}/${mm}/${dd} ${hh}:${min}:${ss}`;
            }

            const updateTimeLabel = document.querySelector('.update-time');
            if (updateTimeLabel) {
                updateTimeLabel.innerHTML = `${t.pageUpdateTime}: <span id="update-time">${dateString}</span>`;
            }
        }

        // é»æ“ŠåŒ¯ç‡å¡ç‰‡å¯ä»¥å¿«é€Ÿè¨­å®šè½‰æ›
        document.querySelectorAll('.rate-card').forEach((card) => {
            card.addEventListener('click', function() {
                const currency = this.dataset.currency;
                
                document.getElementById('currency1').value = 'TWD';
                document.getElementById('currency2').value = currency;
                document.getElementById('amount1').value = '1';
                
                convert();
            });
        });

        // åˆå§‹åŒ–
        createParticles();
        updateTime();
        setInterval(updateTime, 1000);
        
        // é é¢è¼‰å…¥æ™‚ç²å–åŒ¯ç‡
        fetchLatestRates();
        
        // æ¯5åˆ†é˜è‡ªå‹•æ›´æ–°åŒ¯ç‡
        setInterval(fetchLatestRates, 5 * 60 * 1000);

        // æ¸¬è©¦æœå°‹åŠŸèƒ½
        console.log('æœå°‹åŠŸèƒ½æ¸¬è©¦:');
        console.log('å¯æœå°‹çš„è²¨å¹£:', Object.keys(symbols));
        console.log('åœ‹å®¶é—œéµå­—:', countryKeywords);

        // æœå°‹åŠŸèƒ½
        function searchCurrency() {
            const searchInput = document.getElementById('currency-search');
            const searchResults = document.getElementById('search-results');
            const query = searchInput.value.trim().toLowerCase();
            
            console.log('æœå°‹æŸ¥è©¢:', query); // èª¿è©¦ä¿¡æ¯
            
            if (query === '') {
                searchResults.style.display = 'none';
                return;
            }

            const results = [];
            
            // æœå°‹æ‰€æœ‰è²¨å¹£
            Object.keys(symbols).forEach(currency => {
                const symbol = symbols[currency].toLowerCase();
                const name = names[currency].toLowerCase();
                const code = currency.toLowerCase();
                const keywords = countryKeywords[currency] || [];
                
                // æª¢æŸ¥æ˜¯å¦åŒ¹é…
                let isMatch = symbol.includes(query) || name.includes(query) || code.includes(query);
                
                // æª¢æŸ¥åœ‹å®¶é—œéµå­—
                if (!isMatch) {
                    isMatch = keywords.some(keyword => keyword.toLowerCase().includes(query));
                }
                
                if (isMatch) {
                    results.push({
                        currency: currency,
                        symbol: symbols[currency],
                        name: names[currency],
                        code: currency,
                        keywords: keywords.join(', ')
                    });
                }
            });

            console.log('æœå°‹çµæœ:', results); // èª¿è©¦ä¿¡æ¯

            // é¡¯ç¤ºçµæœ
            displaySearchResults(results);
        }

        function displaySearchResults(results) {
            const searchResults = document.getElementById('search-results');
            
            if (results.length === 0) {
                searchResults.innerHTML = '<div class="no-results">æ‰¾ä¸åˆ°ç›¸é—œè²¨å¹£</div>';
                searchResults.style.display = 'block';
                return;
            }

            let html = '';
            results.forEach(result => {
                html += `
                    <div class="search-result-item" onclick="selectCurrency('${result.currency}')">
                        <div class="search-result-symbol">${result.symbol}</div>
                        <div class="search-result-info">
                            <div class="search-result-name">${result.name}</div>
                            <div class="search-result-code">${result.code} â€¢ ${result.keywords}</div>
                        </div>
                    </div>
                `;
            });

            searchResults.innerHTML = html;
            searchResults.style.display = 'block';
        }

        function selectCurrency(currency) {
            console.log('é¸æ“‡è²¨å¹£:', currency); // èª¿è©¦ä¿¡æ¯
            
            // éš±è—æœå°‹çµæœ
            document.getElementById('search-results').style.display = 'none';
            document.getElementById('currency-search').value = '';
            
            // æ‰¾åˆ°å°æ‡‰çš„åŒ¯ç‡å¡ç‰‡
            const card = document.querySelector(`[data-currency="${currency}"]`);
            if (card) {
                console.log('æ‰¾åˆ°å¡ç‰‡:', card); // èª¿è©¦ä¿¡æ¯
                
                // å…ˆç§»é™¤æ‰€æœ‰å¡ç‰‡çš„é«˜äº®æ•ˆæœ
                document.querySelectorAll('.rate-card').forEach(c => {
                    c.style.border = '';
                    c.style.transform = '';
                    c.style.boxShadow = '';
                    c.style.transition = '';
                    c.style.animation = '';
                });
                
                // æ»¾å‹•åˆ°è©²ä½ç½®
                card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // æ·»åŠ ç´…è‰²é‚Šæ¡†é«˜äº®æ•ˆæœ
                setTimeout(() => {
                    card.style.border = '3px solid #dc3545';
                    card.style.transform = 'scale(1.05)';
                    card.style.boxShadow = '0 20px 40px rgba(220, 53, 69, 0.4)';
                    card.style.transition = 'all 0.3s ease';
                    
                    // æ·»åŠ è„ˆè¡å‹•ç•«
                    card.style.animation = 'pulseHighlight 2s ease-in-out';
                }, 500);
                
                // 3ç§’å¾Œç§»é™¤é«˜äº®æ•ˆæœ
                setTimeout(() => {
                    card.style.border = '';
                    card.style.transform = '';
                    card.style.boxShadow = '';
                    card.style.animation = '';
                }, 3500);
            } else {
                console.log('æ‰¾ä¸åˆ°å°æ‡‰çš„å¡ç‰‡'); // èª¿è©¦ä¿¡æ¯
            }
        }

        // æœå°‹è¼¸å…¥äº‹ä»¶
        document.getElementById('currency-search').addEventListener('input', function() {
            console.log('è¼¸å…¥äº‹ä»¶è§¸ç™¼:', this.value); // èª¿è©¦ä¿¡æ¯
            if (this.value.trim() === '') {
                document.getElementById('search-results').style.display = 'none';
            } else {
                searchCurrency();
            }
        });

        // é»æ“Šå¤–éƒ¨éš±è—æœå°‹çµæœ
        document.addEventListener('click', function(e) {
            const searchContainer = document.querySelector('.search-container');
            const searchResults = document.getElementById('search-results');
            
            if (!searchContainer.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });

        // æ»¾å‹•åˆ°è½‰æ›å™¨å‡½æ•¸
        function scrollToConverter() {
            const converterSection = document.querySelector('.converter-section');
            if (converterSection) {
                converterSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // æ»¾å‹•åˆ°æœå°‹å€åŸŸ
        function scrollToSearch() {
            const searchSection = document.querySelector('.rates-display');
            if (searchSection) {
                searchSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function updateFlag(selectId, flagId) {
            const select = document.getElementById(selectId);
            const flag = document.getElementById(flagId);
            if (select && flag) {
                flag.textContent = currencyFlags[select.value] || '';
            }
        }

        // è½‰æ›è²¨å¹£
        async function convertCurrency() {
            const amount = parseFloat(document.getElementById('amount').value);
            const fromCurrency = document.getElementById('fromCurrency').value;
            const toCurrency = document.getElementById('toCurrency').value;
            const resultDiv = document.getElementById('result');

            if (!amount || amount <= 0) {
                resultDiv.innerHTML = `<p class="error">${translations[currentLanguage]?.enterAmount || 'Please enter an amount'}</p>`;
                return;
            }

            if (!fromCurrency || !toCurrency) {
                resultDiv.innerHTML = `<p class="error">${translations[currentLanguage]?.selectCurrency || 'Please select currencies'}</p>`;
                return;
            }

            try {
                const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${fromCurrency}`);
                const data = await response.json();
                
                if (data.rates && data.rates[toCurrency]) {
                    const rate = data.rates[toCurrency];
                    const convertedAmount = amount * rate;
                    
                    // ä½¿ç”¨æœ¬åœ°åŒ–æ ¼å¼
                    const formattedAmount = formatNumber(amount);
                    const formattedResult = formatNumber(convertedAmount);
                    
                    resultDiv.innerHTML = `
                        <div class="conversion-result">
                            <div class="amount-display">
                                <span class="original">${formattedAmount} ${fromCurrency}</span>
                                <span class="arrow">â†’</span>
                                <span class="converted">${formattedResult} ${toCurrency}</span>
                            </div>
                            <div class="rate-info">
                                <p>1 ${fromCurrency} = ${formatNumber(rate)} ${toCurrency}</p>
                                <p>1 ${toCurrency} = ${formatNumber(1/rate)} ${fromCurrency}</p>
                            </div>
                            <div class="update-time">
                                <small>${translations[currentLanguage]?.lastUpdate || 'Last Update'}: ${formatDateTime(new Date())}</small>
                            </div>
                        </div>
                    `;
                    
                    // æ›´æ–°APIç‹€æ…‹
                    updateApiStatus(true);
                    updateLastUpdate();
                } else {
                    resultDiv.innerHTML = `<p class="error">${translations[currentLanguage]?.error || 'Error occurred during conversion'}</p>`;
                    updateApiStatus(false);
                }
            } catch (error) {
                resultDiv.innerHTML = `<p class="error">${translations[currentLanguage]?.error || 'Error occurred during conversion'}</p>`;
                updateApiStatus(false);
            }
        }

        // å¤šèªè¨€è²¨å¹£åç¨±
        const currencyNamesByLang = {
            en: {
                TWD: 'Taiwan Dollar',
                USD: 'US Dollar',
                EUR: 'Euro',
                GBP: 'British Pound',
                JPY: 'Japanese Yen',
                CNY: 'Chinese Yuan',
                KRW: 'Korean Won',
                CAD: 'Canadian Dollar',
                AUD: 'Australian Dollar',
                CHF: 'Swiss Franc',
                SGD: 'Singapore Dollar',
                HKD: 'Hong Kong Dollar',
                THB: 'Thai Baht',
                MYR: 'Malaysian Ringgit',
                PHP: 'Philippine Peso',
                VND: 'Vietnamese Dong',
                IDR: 'Indonesian Rupiah',
                RUB: 'Russian Ruble',
                ZAR: 'South African Rand',
                MXN: 'Mexican Peso',
                CLP: 'Chilean Peso',
                COP: 'Colombian Peso',
                PEN: 'Peruvian Sol',
                ARS: 'Argentine Peso',
                TRY: 'Turkish Lira',
                BRL: 'Brazilian Real',
                INR: 'Indian Rupee'
            },
            zh: {
                TWD: 'å°å¹£',
                USD: 'ç¾å…ƒ',
                EUR: 'æ­å…ƒ',
                GBP: 'è‹±éŠ',
                JPY: 'æ—¥åœ“',
                CNY: 'äººæ°‘å¹£',
                KRW: 'éŸ“å…ƒ',
                CAD: 'åŠ æ‹¿å¤§å…ƒ',
                AUD: 'æ¾³æ´²å…ƒ',
                CHF: 'ç‘å£«æ³•éƒ',
                SGD: 'æ–°åŠ å¡å…ƒ',
                HKD: 'æ¸¯å¹£',
                THB: 'æ³°éŠ–',
                MYR: 'é¦¬ä¾†è¥¿äºä»¤å‰',
                PHP: 'è²å¾‹è³“æŠ«ç´¢',
                VND: 'è¶Šå—ç›¾',
                IDR: 'å°å°¼ç›¾',
                RUB: 'ä¿„ç¾…æ–¯ç›§å¸ƒ',
                ZAR: 'å—éè˜­ç‰¹',
                MXN: 'å¢¨è¥¿å“¥æŠ«ç´¢',
                CLP: 'æ™ºåˆ©æŠ«ç´¢',
                COP: 'å“¥å€«æ¯”äºæŠ«ç´¢',
                PEN: 'ç§˜é­¯ç´¢çˆ¾',
                ARS: 'é˜¿æ ¹å»·æŠ«ç´¢',
                TRY: 'åœŸè€³å…¶é‡Œæ‹‰',
                BRL: 'å·´è¥¿é›·äºçˆ¾',
                INR: 'å°åº¦ç›§æ¯”'
            },
            ja: {
                TWD: 'å°æ¹¾ãƒ‰ãƒ«',
                USD: 'ç±³ãƒ‰ãƒ«',
                EUR: 'ãƒ¦ãƒ¼ãƒ­',
                GBP: 'ãƒãƒ³ãƒ‰',
                JPY: 'å††',
                CNY: 'äººæ°‘å…ƒ',
                KRW: 'ã‚¦ã‚©ãƒ³',
                CAD: 'ã‚«ãƒŠãƒ€ãƒ‰ãƒ«',
                AUD: 'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ãƒ‰ãƒ«',
                CHF: 'ã‚¹ã‚¤ã‚¹ãƒ•ãƒ©ãƒ³',
                SGD: 'ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«ãƒ‰ãƒ«',
                HKD: 'é¦™æ¸¯ãƒ‰ãƒ«',
                THB: 'ãƒãƒ¼ãƒ„',
                MYR: 'ãƒãƒ¬ãƒ¼ã‚·ã‚¢ãƒªãƒ³ã‚®ãƒƒãƒˆ',
                PHP: 'ãƒ•ã‚£ãƒªãƒ”ãƒ³ãƒšã‚½',
                VND: 'ãƒ™ãƒˆãƒŠãƒ ãƒ‰ãƒ³',
                IDR: 'ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢ãƒ«ãƒ”ã‚¢',
                RUB: 'ãƒ­ã‚·ã‚¢ãƒ«ãƒ¼ãƒ–ãƒ«',
                ZAR: 'å—ã‚¢ãƒ•ãƒªã‚«ãƒ©ãƒ³ãƒ‰',
                MXN: 'ãƒ¡ã‚­ã‚·ã‚³ãƒšã‚½',
                CLP: 'ãƒãƒªãƒšã‚½',
                COP: 'ã‚³ãƒ­ãƒ³ãƒ“ã‚¢ãƒšã‚½',
                PEN: 'ãƒšãƒ«ãƒ¼ã‚½ãƒ«',
                ARS: 'ã‚¢ãƒ«ã‚¼ãƒ³ãƒãƒ³ãƒšã‚½',
                TRY: 'ãƒªãƒ©',
                BRL: 'ãƒ¬ã‚¢ãƒ«',
                INR: 'ãƒ«ãƒ”ãƒ¼'
            },
            ko: {
                TWD: 'ëŒ€ë§Œ ë‹¬ëŸ¬',
                USD: 'ë¯¸êµ­ ë‹¬ëŸ¬',
                EUR: 'ìœ ë¡œ',
                GBP: 'íŒŒìš´ë“œ',
                JPY: 'ì—”',
                CNY: 'ìœ„ì•ˆ',
                KRW: 'ì›',
                CAD: 'ìºë‚˜ë‹¤ ë‹¬ëŸ¬',
                AUD: 'í˜¸ì£¼ ë‹¬ëŸ¬',
                CHF: 'ìŠ¤ìœ„ìŠ¤ í”„ë‘',
                SGD: 'ì‹±ê°€í¬ë¥´ ë‹¬ëŸ¬',
                HKD: 'í™ì½© ë‹¬ëŸ¬',
                THB: 'íƒœêµ­ ë°”íŠ¸',
                MYR: 'ë§ë ˆì´ì‹œì•„ ë§ê¹ƒ',
                PHP: 'í•„ë¦¬í•€ í˜ì†Œ',
                VND: 'ë² íŠ¸ë‚¨ ë™',
                IDR: 'ì¸ë„ë„¤ì‹œì•„ ë£¨í”¼ì•„',
                RUB: 'ëŸ¬ì‹œì•„ ë£¨ë¸”',
                ZAR: 'ë‚¨ì•„í”„ë¦¬ì¹´ ëœë“œ',
                MXN: 'ë©•ì‹œì½” í˜ì†Œ',
                CLP: 'ì¹ ë ˆ í˜ì†Œ',
                COP: 'ì½œë¡¬ë¹„ì•„ í˜ì†Œ',
                PEN: 'í˜ë£¨ ì†”',
                ARS: 'ì•„ë¥´í—¨í‹°ë‚˜ í˜ì†Œ',
                TRY: 'í„°í‚¤ ë¦¬ë¼',
                BRL: 'ë¸Œë¼ì§ˆ í—¤ì•Œ',
                INR: 'ì¸ë„ ë£¨í”¼'
            },
            es: {
                TWD: 'DÃ³lar de TaiwÃ¡n',
                USD: 'DÃ³lar Estadounidense',
                EUR: 'Euro',
                GBP: 'Libra Esterlina',
                JPY: 'Yen JaponÃ©s',
                CNY: 'Yuan Chino',
                KRW: 'Won Surcoreano',
                CAD: 'DÃ³lar Canadiense',
                AUD: 'DÃ³lar Australiano',
                CHF: 'Franco Suizo',
                SGD: 'DÃ³lar de Singapur',
                HKD: 'DÃ³lar de Hong Kong',
                THB: 'Baht TailandÃ©s',
                MYR: 'Ringgit Malayo',
                PHP: 'Peso Filipino',
                VND: 'Dong Vietnamita',
                IDR: 'Rupia Indonesia',
                RUB: 'Rublo Ruso',
                ZAR: 'Rand Sudafricano',
                MXN: 'Peso Mexicano',
                CLP: 'Peso Chileno',
                COP: 'Peso Colombiano',
                PEN: 'Sol Peruano',
                ARS: 'Peso Argentino',
                TRY: 'Lira Turca',
                BRL: 'Real BrasileÃ±o',
                INR: 'Rupia India'
            },
            fr: {
                TWD: 'Dollar TaÃ¯wanais',
                USD: 'Dollar AmÃ©ricain',
                EUR: 'Euro',
                GBP: 'Livre Sterling',
                JPY: 'Yen Japonais',
                CNY: 'Yuan Chinois',
                KRW: 'Won Sud-CorÃ©en',
                CAD: 'Dollar Canadien',
                AUD: 'Dollar Australien',
                CHF: 'Franc Suisse',
                SGD: 'Dollar de Singapour',
                HKD: 'Dollar de Hong Kong',
                THB: 'Baht ThaÃ¯landais',
                MYR: 'Ringgit Malaisien',
                PHP: 'Peso Philippin',
                VND: 'Dong Vietnamien',
                IDR: 'Roupie IndonÃ©sienne',
                RUB: 'Rouble Russe',
                ZAR: 'Rand Sud-Africain',
                MXN: 'Peso Mexicain',
                CLP: 'Peso Chilien',
                COP: 'Peso Colombien',
                PEN: 'Sol PÃ©ruvien',
                ARS: 'Peso Argentin',
                TRY: 'Livre Turque',
                BRL: 'Real BrÃ©silien',
                INR: 'Roupie Indienne',
                copyResultBtn: "Copier le rÃ©sultat",
                copied: "CopiÃ©"
            }
        };

        // ç²å–æŒ‡å®šèªè¨€çš„è²¨å¹£åç¨±
        function getCurrencyNames(lang) {
            return currencyNamesByLang[lang] || currencyNamesByLang.zh;
        }

        function setQuickCurrency(code) {
            // é è¨­åˆ‡æ›ä¾†æºè²¨å¹£
            document.getElementById('currency1').value = code;
            updateFlag('currency1', 'flag1');
            convert();
        }

        // é¡¯ç¤ºè¤‡è£½æŒ‰éˆ•
        function showCopyBtn() {
            document.getElementById('copy-result-btn').style.display = 'inline-block';
        }
        // éš±è—è¤‡è£½æŒ‰éˆ•
        function hideCopyBtn() {
            document.getElementById('copy-result-btn').style.display = 'none';
        }
        // è¤‡è£½çµæœ
        document.getElementById('copy-result-btn').onclick = function() {
            const value = document.getElementById('result-value').textContent;
            const label = document.getElementById('result-label').textContent;
            navigator.clipboard.writeText(`${label}: ${value}`);
            this.textContent = t.copied || 'å·²è¤‡è£½';
            setTimeout(()=>{ this.textContent = t.copyResultBtn || 'è¤‡è£½çµæœ'; }, 1500);
        };
        // è½‰æ›æ™‚è‡ªå‹•é¡¯ç¤º/éš±è—è¤‡è£½æŒ‰éˆ•
        const origConvert = convert;
        convert = function() {
            origConvert();
            const result = document.getElementById('result');
            if(result.classList.contains('show')) showCopyBtn();
            else hideCopyBtn();
        }

        // æ–°å¢selectLanguageå‡½æ•¸
        function selectLanguage(lang) {
            changeLanguage(lang);
            document.querySelector('.language-selector').classList.remove('show');
        }

        // å°‡èªè¨€é¸é …çš„onclickæ”¹ç‚ºselectLanguage('xx')
        // ä¾‹å¦‚ï¼š<div class="language-option" onclick="selectLanguage('en')">...</div>
        // ...

        // å‹•æ…‹æ¸²æŸ“å¸¸ç”¨è²¨å¹£æŒ‰éˆ•
        function renderQuickCurrencyButtons(lang) {
            const t = translations[lang] || translations.zh;
            const quickList = t.quickCurrencies || ["TWD", "USD", "JPY", "KRW", "EUR"];
            const quickCodes = t.quickCurrencyCodes || ["USD", "TWD", "JPY", "KRW", "EUR"];
            const quickDiv = document.querySelector('.quick-currency-select');
            if (!quickDiv) return;
            let html = `<span>${t.commonCurrencies || 'å¸¸ç”¨è²¨å¹£'}ï¼š</span>`;
            quickList.forEach((name, idx) => {
                html += `<button class="quick-btn" onclick="setQuickCurrency('${quickCodes[idx]}')">${name}</button>`;
            });
            quickDiv.innerHTML = html;
        }

        // åœ¨changeLanguageè£¡å‘¼å«
        renderQuickCurrencyButtons(lang);

        // åŒ¯ç‡é€šçŸ¥è¨‚é–±åŠŸèƒ½
        function updateNotificationTexts(lang) {
            const t = translations[lang] || translations.zh;
            
            // æ›´æ–°é€šçŸ¥å€åŸŸæ¨™é¡Œå’Œæè¿°
            const notificationTitle = document.getElementById('notification-title');
            if (notificationTitle) notificationTitle.textContent = t.rateNotification;
            
            const notificationDesc = document.getElementById('notification-desc');
            if (notificationDesc) notificationDesc.textContent = t.subscribeDesc;
            
            // æ›´æ–° Email è¨‚é–±å€åŸŸ
            const emailInput = document.getElementById('email-input');
            if (emailInput) emailInput.placeholder = t.emailPlaceholder;
            
            const currencySelectionLabel = document.getElementById('currency-selection-label');
            if (currencySelectionLabel) currencySelectionLabel.textContent = t.selectCurrencies;
            
            const notificationTimeLabel = document.getElementById('notification-time-label');
            if (notificationTimeLabel) notificationTimeLabel.textContent = t.notificationTime;
            
            const subscribeBtn = document.getElementById('email-subscribe-btn');
            if (subscribeBtn) subscribeBtn.textContent = t.subscribeBtn;
            
            const unsubscribeBtn = document.getElementById('email-unsubscribe-btn');
            if (unsubscribeBtn) unsubscribeBtn.textContent = t.unsubscribeBtn;
            
            // æ›´æ–°æ™‚é–“é¸é …
            const timeSelect = document.getElementById('notification-time-select');
            if (timeSelect) {
                const options = timeSelect.options;
                options[0].text = `${t.dailyAt} 09:00`;
                options[1].text = `${t.dailyAt} 12:00`;
                options[2].text = `${t.dailyAt} 18:00`;
                options[3].text = `${t.dailyAt} 21:00`;
            }
        }

        // Email è¨‚é–±åŠŸèƒ½
       function subscribeEmail() {
    const email = document.getElementById('email-input').value.trim();
    const selectedCurrencies = getSelectedCurrencies();
    const notificationTime = document.getElementById('notification-time-select').value;

    if (!email) {
        showSubscriptionStatus('error', translations[currentLanguage]?.emailRequired || 'Email is required');
        return;
    }

    if (selectedCurrencies.length === 0) {
        showSubscriptionStatus('error', translations[currentLanguage]?.currencyRequired || 'Please select at least one currency');
        return;
    }

    // æ•´åˆ Google Forms æ”¶é›†è¨‚é–±è³‡æ–™
    const formData = new FormData();
    formData.append('entry.1916893204', email); // Email åœ°å€
    formData.append('entry.1561399061', selectedCurrencies.join(', ')); // é¸æ“‡çš„è²¨å¹£
    formData.append('entry.504908005', notificationTime); // é€šçŸ¥æ™‚é–“
    formData.append('entry.1245695067', currentLanguage); // èªè¨€åå¥½
    formData.append('entry.941096127', new Date().toISOString()); // è¨‚é–±æ™‚é–“

    fetch('https://docs.google.com/forms/d/e/1FAIpQLSfaEgnSQhW5vWHldt7jOOiLVFGZInWdSxktX-vFss6xguM5zQ/formResponse', {
        method: 'POST',
        body: formData,
        mode: 'no-cors'
    }).then(() => {
        showSubscriptionStatus('success', translations[currentLanguage]?.subscribeSuccess || 'Successfully subscribed!');
        document.getElementById('email-subscribe-btn').style.display = 'none';
        document.getElementById('email-unsubscribe-btn').style.display = 'inline-block';
        localStorage.setItem('emailSubscription', JSON.stringify({
            email: email,
            currencies: selectedCurrencies,
            notificationTime: notificationTime,
            timestamp: new Date().toISOString(),
            language: currentLanguage
        }));
    }).catch(() => {
        showSubscriptionStatus('error', translations[currentLanguage]?.subscribeError || 'Subscription failed. Please try again.');
    });
}

        // å–æ¶ˆ Email è¨‚é–±
        function unsubscribeEmail() {
            const email = document.getElementById('email-input').value.trim();
            
            if (!email) {
                showSubscriptionStatus('error', translations[currentLanguage]?.emailRequired || 'Email is required');
                return;
            }
            
            // æ¨¡æ“¬å–æ¶ˆè¨‚é–±æˆåŠŸ
            console.log('Unsubscribing email:', email);
            showSubscriptionStatus('success', translations[currentLanguage]?.unsubscribeSuccess || 'Successfully unsubscribed!');
            
            // åˆ‡æ›æŒ‰éˆ•ç‹€æ…‹
            document.getElementById('email-subscribe-btn').style.display = 'inline-block';
            document.getElementById('email-unsubscribe-btn').style.display = 'none';
            
            // æ¸…é™¤ localStorage
            localStorage.removeItem('emailSubscription');
        }

        // LINE Notify é€£æ¥
        function connectLineNotify() {
            // LINE Notify æˆæ¬Šæµç¨‹
            const clientId = 'YOUR_LINE_NOTIFY_CLIENT_ID'; // éœ€è¦ç”³è«‹ LINE Notify æ‡‰ç”¨
            const redirectUri = encodeURIComponent(window.location.origin + '/line-notify-callback');
            const scope = 'notify';
            const state = Math.random().toString(36).substring(7);
            
            const authUrl = `https://notify-bot.line.me/oauth/authorize?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scope}&state=${state}`;
            
            // åœ¨æ–°è¦–çª—é–‹å•Ÿæˆæ¬Šé é¢
            window.open(authUrl, 'line-notify-auth', 'width=500,height=600');
            
            showSubscriptionStatus('success', 'è«‹åœ¨æ–°è¦–çª—ä¸­å®Œæˆ LINE Notify æˆæ¬Š');
        }

        // å‡ç´šè‡³é€²éšç‰ˆ
        function upgradeToPremium() {
            // é€™è£¡å¯ä»¥æ•´åˆä»˜è²»ç³»çµ±ï¼ˆå¦‚ Stripeã€PayPal ç­‰ï¼‰
            showSubscriptionStatus('success', 'å³å°‡æ¨å‡ºé€²éšåŠŸèƒ½ï¼Œæ•¬è«‹æœŸå¾…ï¼');
        }

        // ç²å–é¸ä¸­çš„è²¨å¹£
        function getSelectedCurrencies() {
            const checkboxes = document.querySelectorAll('.currency-checkbox input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        // é¡¯ç¤ºè¨‚é–±ç‹€æ…‹
        function showSubscriptionStatus(type, message) {
            const statusDiv = document.getElementById('subscription-status');
            const messageDiv = document.getElementById('status-message');
            
            if (statusDiv && messageDiv) {
                statusDiv.className = `subscription-status ${type}`;
                messageDiv.textContent = message;
                statusDiv.style.display = 'block';
                
                // 3ç§’å¾Œè‡ªå‹•éš±è—
                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 3000);
            }
        }

        // æª¢æŸ¥ç¾æœ‰è¨‚é–±ç‹€æ…‹
        function checkExistingSubscription() {
            const subscription = localStorage.getItem('emailSubscription');
            if (subscription) {
                const data = JSON.parse(subscription);
                document.getElementById('email-input').value = data.email;
                document.getElementById('notification-time-select').value = data.notificationTime;
                
                // æ¢å¾©é¸ä¸­çš„è²¨å¹£
                data.currencies.forEach(currency => {
                    const checkbox = document.querySelector(`input[value="${currency}"]`);
                    if (checkbox) checkbox.checked = true;
                });
                
                // åˆ‡æ›æŒ‰éˆ•ç‹€æ…‹
                document.getElementById('email-subscribe-btn').style.display = 'none';
                document.getElementById('email-unsubscribe-btn').style.display = 'inline-block';
            }
        }

        // é é¢è¼‰å…¥æ™‚æª¢æŸ¥è¨‚é–±ç‹€æ…‹
        document.addEventListener('DOMContentLoaded', function() {
            checkExistingSubscription();
        });
    </script>
</body>
</html> 